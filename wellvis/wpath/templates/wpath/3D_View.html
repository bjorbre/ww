{% extends "base/full_view.html" %}

{% block content %}
{{path }}
	<div id="theMainContainer">

		<div id="theControlButtonsContainer">
			<span style="color: #fff; float: left; margin: 0px 5px; padding: 5px 0px 0px 0px">Toggle</span>
			<button id="toggleAxesPlanes" class="btn activeBtn">Planes</button>
			<button id="toggleGridBtn" class="btn activeBtn">Grids</button>
			<button id="toggleLabels" class="btn activeBtn">Labels</button>			
			<button id="toggleRotationCenterSymbol" class="btn activeBtn">Rotation point</button>	
			<button id="toggleWellPath" class="btn activeBtn">Well Path</button>

		</div>

		<div id="theLeftPanel">
			<div id="theTabs">
				<ul>
					<li><a href="#theTabs-1">Well Paths</a></li>
					<li><a href="#theTabs-2">Configuration</a></li>
				</ul>
				<div id="theTabs-1">   
					<div id="thePathsDetailContainer">
						<div id="theAddPathHeader">
							<div class="divMD headerMD">MD <br /> (m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">CL <br /> (m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">INC  <br />  (&#176;)</div>
							<div class="divMiddleBoxes headerMiddleOnes">AZI  <br />  (&#176;)</div>
							<div class="divMiddleBoxes headerMiddleOnes">TVD  <br />  (m) </div>
							<div class="divMiddleBoxes headerMiddleOnes">NS  <br />  (m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">EW  <br /> (m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">V.Sec  <br /> (m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">Dogleg  <br />  (&#176;/30m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">Build <br />  (&#176;/30m)</div>
							<div class="divMiddleBoxes headerMiddleOnes">Turn  <br />  (&#176;/30m)</div>
							<div class="divMethodType headerMiddleOnes">Method   <br /> Type</div>
							<div class="divEmpty headerEmpty"></div>
						</div>
						<div id="theAddPathContainer">

							<div id="wellPathInfoBoxContainer_000" class="wellPathInfoBoxContainer">
								<div class="wellPathInputBoxContainer divMD">
									<input id="valueMD_000" type="text" name="valueMD" size="10"/>
								</div>
								<div class="wellPathInputBoxContainer divINC">
									<input id="valueINC_000" type="text" name="valueINC" size="10"/>
								</div>
								<div class="wellPathInputBoxContainer divAZI">
									<input id="valueAZI_000" type="text" name="valueAZI" size="10"/>
								</div>
								<div class="wellPathInputBoxContainer divMD">
									<input id="valueNS_000" type="text" name="valueMD" size="10"/>
								</div>
								<div class="wellPathInputBoxContainer divINC">
									<input id="valueEW_000" type="text" name="valueINC" size="10"/>
								</div>
								<div class="wellPathInputBoxContainer divAZI">
									<input id="valueVSec_000" type="text" name="valueAZI" size="10"/>
								</div>
								<div class="wellPathInputBoxContainer divAddPathBtn">
									<button id="addPathBtn_000" class="btn addEditPathBtn addPathBtn">
										<span class"">Add</span>
									</button>
								</div>
								<div class="wellPathInputBoxContainer divEditPathBtn" style="display: none;">
									<button id="editPathBtn_000" class="btn addEditPathBtn editPathBtn">
										<span class"">Edit</span>
									</button>
								</div>
								<div class="wellPathInputBoxContainer divDonePathBtn" style="display: none;">
									<button id="donePathBtn_000" class="btn addEditPathBtn donePathBtn">
										<span class"">Done</span>
									</button>
								</div>
							</div>

						</div>
					</div>
				</div>
				<div id="theTabs-2">
					<div id="theConfigurationPanel">
						<!-- The Scene -->
						<div class="settingsLargerDIVforTitle">
							<span >The Scene</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span>Color</span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="theSceneColorInput" type="text" name="theSceneColorInput" size="10"/>
							</div>
						</div>


						<div class="settingSeparatorLine"></div>


						<!-- The Well Path -->
						<div class="settingsLargerDIVforTitle">
							<span >The Well Path</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span>Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="theWellPathColorInput" type="text" name="theWellPathColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="theWellPathLineOpacity" class="theSlider"></div>
						</div>
							


						<div class="settingSeparatorLine"></div>


						<!-- The XY Plane -->
						<div class="settingsLargerDIVforTitle">
							<span >The XY Plane</span>
						</div>
						<div class="settingsMediumDIV">
							<span >Outline</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="XYplaneOutlineColorInput" type="text" name="valueXYplaneOutlineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span>Opacity </span>
							</div>
							<div id="XYplaneOutlineLineOpacity" class="theSlider"></div>
						</div>
						<div class="settingsMediumDIV">
							<span >Grid-lines</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="XYplaneGridlineColorInput" type="text" name="valueXYplaneGridlineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="XYplaneGridlineLineOpacity" class="theSlider"></div>
						</div>
						<div class="settingsMediumDIV">
							<span >Axis-Line</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="XYplaneAxislineColorInput" type="text" name="valueXYplaneAxislineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="XYplaneAxislineLineOpacity" class="theSlider"></div>
						</div>
						

						<div class="settingSeparatorLine"></div>


						<!-- The XZ Plane -->
						<div class="settingsLargerDIVforTitle">
							<span >The XZ Plane</span>
						</div>
						<div class="settingsMediumDIV">
							<span >Outline</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="XZplaneOutlineColorInput" type="text" name="valueXZplaneOutlineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="XZplaneOutlineLineOpacity" class="theSlider"></div>
						</div>
						<div class="settingsMediumDIV">
							<span >Grid-Lines</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="XZplaneGridlineColorInput" type="text" name="valueXZplaneGridlineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="XZplaneGridlineLineOpacity" class="theSlider"></div>
						</div>
						<div class="settingsMediumDIV">
							<span >Axis-Line</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="XZplaneAxislineColorInput" type="text" name="valueXZplaneAxislineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="XZplaneAxislineLineOpacity" class="theSlider"></div>
						</div>

						
						<div class="settingSeparatorLine"></div>


						<!-- The YZ Plane -->
						<div class="settingsLargerDIVforTitle">
							<span >The YZ Plane</span>
						</div>
						<div class="settingsMediumDIV">
							<span >Outline</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="YZplaneOutlineColorInput" type="text" name="valueYZplaneOutlineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="YZplaneOutlineLineOpacity" class="theSlider"></div>
						</div>
						<div class="settingsMediumDIV">
							<span >Grid-Lines</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="YZplaneGridlineColorInput" type="text" name="valueYZplaneGridlineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="YZplaneGridlineLineOpacity" class="theSlider"></div>
						</div>
						<div class="settingsMediumDIV">
							<span >Axis-Line</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="YZplaneAxislineColorInput" type="text" name="valueYZplaneAxislineColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Color </span>
							</div>
							<div id="YZplaneAxislineLineOpacity" class="theSlider"></div>
						</div>


						<div class="settingSeparatorLine"></div>


						<!-- Labels -->
						<div class="settingsLargerDIVforTitle">
							<span >Labels</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="labelColorInput" type="text" name="labelColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="labelOpacity" class="theSlider"></div>
						</div>
						<div class="settingsLargerDIV ">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Size </span>
							</div>
							<div id="labelSizeSlider" class="theSlider" style="width: 278px;"></div>
						</div>


						<div class="settingSeparatorLine" style="border-top: 1px solid #222; border-bottom: 1px solid #444;"></div>
						

						<!-- North Arrow -->
						<div class="settingsLargerDIVforTitle">
							<span >North Arrow</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="arrowColorInput" type="text" name="arrowColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="arrowOpacity" class="theSlider"></div>
						</div>


						<div class="settingSeparatorLine" style="border-top: 1px solid #111; border-bottom: 1px solid #333;"></div>
						

						<!-- Center of Rotation -->
						<div class="settingsLargerDIVforTitle">
							<span >Center of Rotation</span>
						</div>
						<div class="settingsLargerDIV">
							<div class="settingsSmallerDIV settingColorText" style="">
								<span >Color </span>
							</div>						
							<div class="settingsInputContainerDIV" style="">
								<input id="rotationSignColorInput" type="text" name="rotationSignColorInput" size="10"/>
							</div>
							<div class="settingsSmallerDIV settingOpacityText" style="">
								<span >Opacity </span>
							</div>
							<div id="rotationSignOpacity" class="theSlider"></div>
						</div>


						<div id="someFooterSpace" style="height: 30px; width: 200px;"></div>

					</div>
				</div>
			</div>
			
			<div id="showHideLeftPanelButtonContainer">
				<button id="showHideLeftPanelBtn" class="btn" >Hide</button>
			</div>
	

	 	</div>
		

		
		<!-- The Container  -->
		<div id="theContainer" style=""> </div>
		

	</div>

{% endblock %}

{% block styles %}

<link type="text/css" rel="stylesheet"  href="{{ STATIC_URL }}css/dark-hive/jquery-ui-1.10.3.custom.min.css" />

<!-- The ColorPicker -->
<link rel='stylesheet' href='{{ STATIC_URL }}css/spectrum.css' />

<!-- The Slider -->
<link rel="stylesheet" href="{{ STATIC_URL }}css/jquery.nouislider.min.css" >

	<style>

#theMainContainer {
	color: #000;
	font-family:Monospace;
	font-size:13px;
	text-align:center;
	font-weight: bold;

	background-color: #fff;
	margin: 0px;
	padding: 0px;

	overflow: hidden;

	width: 100%;
}


#theControlButtonsContainer {
	background: -webkit-gradient(linear, center bottom, center top, from(#141414), to(#5A5A5A) );
	height: 40px;
	border: 1px solid #000;
	padding: 5px 10px 1px 10px;
}

	.btn {
		border-radius: 3px;
		height: 30px;
		float: left;

		padding: 0 10px 0 10px;
		margin: 0 2px;
	}
		.activeBtn {
			background: #ccc;
			background: -webkit-gradient(linear, center bottom, center top, from(#FDFDFD), to(#C7C7C7) );
			background: -moz-linear-gradient(90deg, #FDFDFD, #C7C7C7);
			color: #000;
		    cursor: pointer;
		    border-top: solid 2px #eaeaea;
		    border-left: solid 2px #eaeaea;
		    border-bottom: solid 2px #777;
		    border-right: solid 2px #777;
		}

		.inactiveBtn {
			color:#888;
		    background: #bbb;
		    border-top: solid 2px #777;
		    border-left: solid 2px #777;
		    border-bottom:solid 2px  #eaeaea;
		    border-right: solid 2px #eaeaea;		
		}




		.addEditPathBtn {
			width: 70px;
			height: 30px;
			margin: 3px;
			padding: 0;
			background: #A0A2F3;
			font-weight: bold;
			color: #ddd;

			background: #2e68f2; /* Old browsers */
			background: -moz-linear-gradient(top,  #2e68f2 0%, #7db9e8 0%, #8195ef 0%, #1e5799 100%, #207cca 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#2e68f2), color-stop(0%,#7db9e8), color-stop(0%,#8195ef), color-stop(100%,#1e5799), color-stop(100%,#207cca)); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(top,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(top,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* Opera 11.10+ */
			background: -ms-linear-gradient(top,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* IE10+ */
			background: linear-gradient(to bottom,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#2e68f2', endColorstr='#207cca',GradientType=0 ); /* IE6-9 */


			border-top: 1px solid #6C7292;
			border-right: 1px solid #333333;
			border-bottom: 2px solid #333;
			border-left: 1px solid #5255AA;
			
		}

		.pressedBtn {

			border-top: 2px solid #4F5785;
			border-right: 1px solid #708DDA;
			border-bottom: 1px solid #6F6363;
			border-left: 1px solid #1d1d1d;

			
		}

#theLeftPanel {
	float: left;
}

#showHideLeftPanelButtonContainer {
	float: left;
	position: absolute;
	left: 418px;
	margin-top: 7px;
}

	#showHideLeftPanelBtn {
		border-radius: 0px 5px 5px 0px;
		background: #0972a5;
		border: 1px solid #000;
	}


#theTabs {
	float: left;
	border: 0px;
	border-radius: 0;
	background: #000;
}	
	
	#theTabs-1, #theTabs-2 { 
		padding: 0;
	}



#thePathsDetailContainer {
	height: 100px;
	width: 400px;
	float: left;
	background: -webkit-gradient(linear, center bottom, center top, from(#141414), to(#5A5A5A) );
	overflow: auto;
	
}
	#theAddPathHeader {
		width: 1350px;
		height: 51px;
		color: #fff;
		background: -webkit-gradient(linear, center bottom, center top, from(#141414), to(#5A5A5A) );
		border-top: 1px solid #000;
		border-bottom: 1px solid #575757;

	}
		.divMD {
			height 50px;
			width: 100px;
			float: left;

			padding: 5px 0px;
		}
	
		.divMiddleBoxes {
			float: left;
			width: 100px;

			padding: 5px 0px;
		}

		.divMethodType {
			float: left;
			width: 150px;

			padding: 5px 0px;

		}
		
		.divINC {
			float: left;
			width: 100px;

			padding: 5px 0px;
		}

		.divAZI {
			float: left;
			width: 100px;

			padding: 5px 0px;
		}

		.divNS { 
			float: left;
			width: 100px;

			padding: 5px 0px;
		}

		.divEW { 
			float: left;
			width: 100px;

			padding: 5px 0px;
		}

		.divVsec { 
			float: left;
			width: 100px;

			padding: 5px 0px;
		}

		.divEmpty {
			float: left;
			width: 10px;
			height: 100%;

		}

		.headerMD {			
			border-right: 1px solid #000;
			border-left: 1px solid #0a0a0a;
		}

	
		.headerMiddleOnes {
			float: left;
			border-right: 1px solid #000;
			border-left: 1px solid #646464;
		}

		.headerAZI {
			border-right: 1px solid #000;
			border-left: 1px solid #646464;
		}

		.headerEmpty {
			border-left: 1px solid #646464;
		}

	#theAddPathContainer {
		width: 100%;
		background: #ddd;
	}
		.wellPathInfoBoxContainer {
			float: left;
			height: 36px;
			width: 1350px;
			border-top: 1px solid #000;
			border-bottom: 1px solid #666;
			
			background: #ddd;
			background : -webkit-gradient(linear, center bottom, center top, from(#949494), to(#f5f5f5) );

		}
			.inactiveRowWellPathContainer {
				background: #8b8b8b;
			}

				.wellPathInputBoxContainer {
					float: left;
					border-left: 	1px solid #666;
					border-right: 	1px solid #fff;
					border-top: 	0px solid #fff;
					border-bottom: 	0px solid #666;



				}
					.divAddPathBtn {
						width: 75px;
					}

					.divEditPathBtn {
						width: 75px;
					}

					.divDonePathBtn {
						width: 75px;
					}
	

#theConfigurationPanel {
	height: 100px;
	width: 400px;
	float: left;
	background: -webkit-gradient(linear, center bottom, center top, from(#141414), to(#5A5A5A) );
	overflow: auto;

	text-align: left;
	border-top: 1px solid #000;
}
	.settingsLargerDIVforTitle {
		clear: both;
		width: 370px;
		height: 20px;
		margin: 5px 0px 0px 10px;
		
		padding: 3px 0px 0px 0px;
	}

	.settingsLargerDIV {
		clear: both;
		width: 357px;
		height: 35px;
		margin: 5px 0px 0px 25px;
		
		padding: 3px 0px 0px 0px;		
	}

	.settingsMediumDIV {
		clear: both;
		width: 357px;
		height: 35px;
		margin: 5px 0px 0px 10px;
		
		padding: 25px 0px 0px 0px;
	}

	.settingsSmallerDIV {
		float: left;
		height: 26px;
		margin: 3px 0px 0px 3px;
		
		padding: 3px 0px 0px 0px;		
	}
		.settingColorText {
			width: 47px;
		}

		.settingOpacityText {
			width: 65px;
		}

	.settingsInputContainerDIV {
		float: left;
		width: 60px;
		height: 26px;
		margin: 3px 0px 0px 10px;
		
		padding:0;
		
	}
		.settingColorOkBtn {
			float: left;

			
			background: #2e68f2; /* Old browsers */
			background: -moz-linear-gradient(top,  #2e68f2 0%, #7db9e8 0%, #8195ef 0%, #1e5799 100%, #207cca 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#2e68f2), color-stop(0%,#7db9e8), color-stop(0%,#8195ef), color-stop(100%,#1e5799), color-stop(100%,#207cca)); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(top,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(top,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* Opera 11.10+ */
			background: -ms-linear-gradient(top,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* IE10+ */
			background: linear-gradient(to bottom,  #2e68f2 0%,#7db9e8 0%,#8195ef 0%,#1e5799 100%,#207cca 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#2e68f2', endColorstr='#207cca',GradientType=0 ); /* IE6-9 */


		}

		.theSlider {
			width: 140px;
			height: 10px;
			float: left;
			margin-left: 20px;
			margin-top: 12px;

		}
			.opacityValue {
				position: relative;
				top: -24px;
				left: -20px;
				color: #000;
				font-size: 10px;
				z-index: -1;
			}

			/* Customizing the Slider Look and feel*/
			
			.noUi-handle {
				height: 30px;
				width: 30px;
				margin-top: -10px;
				font-size: 10px;
				color: #000;

				padding: 6px 0 0 4px;
			}
			

	.settingSeparatorLine {
		height: 0px;
		width: 383px;
		border-top: 1px solid #333;
		border-bottom: 1px solid #555;
		margin: 9px 0;
	}


#theContainer {
	float: left;
	
	border: 1px solid #000000;
}





/*#######################################################*/
/*############ modifying jQuery UI ######################*/
/*#######################################################*/

.ui-state.focus {
	border: 0px solid #000;
}

.ui-button-text-only .ui-button-text {
	padding: 0px 10px 0px 10px;
}


		</style>


{% endblock %}

{% block scripts %}
		<script src="{{ STATIC_URL }}/js/3D/three.min.js"></script>

		<script src="{{ STATIC_URL }}/js/3D/TrackballControls-Modified.js"></script>

		<script src="{{ STATIC_URL }}/js/3D/Detector.js"></script>
		<script src="{{ STATIC_URL }}/js/3D/stats.js"></script>
		<script src="{{ STATIC_URL }}/js/jquery-2.0.3.min.js"></script>
		<script src="{{ STATIC_URL }}/js/jquery-ui.js"></script>
		<script src="{{ STATIC_URL }}js/jquery-cookie.js"></script>
		<script src="{{ STATIC_URL }}js/jquery.growl.js"></script>
		<script src="{{ STATIC_URL }}js/ajax-proxy.js"></script>
	

		<!-- The Color Picker -->
		<script src='{{ STATIC_URL }}/js/spectrum.js'></script>
		
		<!-- The Slider-->
		<script src="{{ STATIC_URL }}/js/jquery.nouislider.min.js"></script>

<script type="text/javascript">
	//==< for browser logs >===
	function colorTrace(msg, color) {
		console.log("%c" + msg, "color:" + color + ";font-weight:bold;");
	}
</script>
<script type="text/javascript">

var well_pk = {{ wellpk }}
var theWellJSONdata = get_wellpath({{ wellpk }});


colorTrace("theWellJSONdata = " +  JSON.stringify(theWellJSONdata), "Green");



var newWellJSONdata = {
	"maxX"		: 	1000,
	"maxY"		: 	1000,
	"minX"		:	-1000,
	"minY"		:	-1000,
	"theZ"		: 	1500,
	"theUnit"	: 	500,
	"theValues"	: 	[]
};



var someWellJSONdata = {
	"maxX"		: 	1000,
	"maxY"		: 	1000,
	"minX"		:	-1000,
	"minY"		:	-1000,
	"theZ"		: 	1500,
	"theUnit"	: 	500,
	"theValues"	: 	[
		{
			"theMD" 	: 100,
			"theCL"		: 100,
			"theINC" 	: 0,
			"theAZI"	: 0,
			"theTVD"	: 100,
			"itsX" 	: 0,
			"itsY" 	: 0,
			"itsZ" 	: 100,
			"itsDX"	: 0,
			"itsDY"	: 0,
			"itsDZ"	: 0,
			"theDogleg" : 0,
			"theBuild"	: 0,
			"theTurn"	: 0,
			"theSecType": "Tangent",
			"thePoints" :[
				{
					"x" 	: 10,
					"y" 	: 10,
					"z" 	: 10
				},
				{
					"x" 	: 20,
					"y" 	: 20,
					"z" 	: 20
				}

			]
		},
		{
			"theMD" 	: 200,
			"theCL"		: 100,
			"theINC" 	: 12,
			"theAZI"	: 0,
			"theTVD"	: 197.81,
			"itsX" 	: 20.79,
			"itsY" 	: 0,
			"itsZ" 	: 197.81,
			"itsDX"	: 20.79,
			"itsDY"	: 0,
			"itsDZ"	: 97.81,
			"theDogleg" : 0,
			"theBuild"	: 0,
			"theTurn"	: 0,
			"theSecType": "M1 - Inc",
			"thePoints" :[
				{
					"x" 	: 10,
					"y" 	: 10,
					"z" 	: 10
				},
				{
					"x" 	: 20,
					"y" 	: 20,
					"z" 	: 20
				}

			]
		}
	]
};


theWellJSONdata = newWellJSONdata;

//==|| Save the wellpath
save_wellpath(well_pk, newWellJSONdata);



//==|| For the empty 3D module 
// var theDefaultWellJSONdata =	{
// 	"minX"	: -100,
// 	"maxX"	: 100,
// 	"minY"	: -100,
// 	"maxY"	: 100,
// 	"theZ" 	: 150,
// 	"theUnit" : 50,
// 	"theValues" : []
// };


var theDefaultSettingsJSONdata = get_3dconfig();

//==|| For Default Settings
//==|| These are the setting different components of our 3D Module
/*
var theDefaultSettingsJSONdata =	{
	"theSceneColor"								: "#000000",
	"theWellLineColor"							: "#FFFF00",
	"theWellLineOpacity"						: 1,
	"theXY_PlaneOutlineMaterialColor"			: "#FF0000",
	"theXY_PlaneOutlineMaterialLineOpacity"		: 1,
	"theXY_PlaneGridLinesMaterialColor"			: "#777777",
	"theXY_PlaneGridLinesMaterialLineOpacity"	: 1,
	"theXY_PlaneAxisLineMaterialColor"			: "#FFFFFF",
	"theXY_PlaneAxisLineMaterialLineOpacity"	: 1,
	"theXZ_PlaneOutlineMaterialColor"			: "#0000FF",
	"theXZ_PlaneOutlineMaterialLineOpacity"		: 1,
	"theXZ_PlaneGridLinesMaterialColor"			: "#777777",
	"theXZ_PlaneGridLinesMaterialLineOpacity"	: 1,
	"theXZ_PlaneAxisLineMaterialColor"			: "#FFFFFF",
	"theXZ_PlaneAxisLineMaterialLineOpacity"	: 1,
	"theYZ_PlaneOutlineMaterialColor" 			: "#00FF00",
	"theYZ_PlaneOutlineMaterialLineOpacity"		: 1,
	"theYZ_PlaneGridLinesMaterialColor" 		: "#777777",
	"theYZ_PlaneGridLinesMaterialLineOpacity"	: 1,
	"theYZ_PlaneAxisLineMaterialColor"			: "#FFFFFF",
	"theYZ_PlaneAxisLineMaterialLineOpacity"	: 1,
	"theLabelColor" 							: "#FFFFFF",
	"theLabelFontSize"							: 500,
	"theLabelOpacity"							: 1,	
	"theArrowNorthColor" 						: "#FFFFFF",
	"theArrowNorthOpacity"						: 1,
	"screenCenterSignColor" 					: "#FFFFFF",
	"screenCenterSignOpacity" 					: 1
};


//==|| Save the Configuration Setting
save_3dconfig(theDefaultSettingsJSONdata);

*/

</script>

<script type="text/javascript">




	if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

	//==|| The Main Variables
	var theContainer = $('#theContainer');
	var stats;

	var theCamera;
	var theCameraTarget;

	var theControls;

	var theScene;
	var theSceneColor = "#000";//"Black"; //0x000000;

	var theRenderer;

	//==|| The Browser window/screen dimension
	var theScreenWidth = window.innerWidth;
  	var theScreenHeight = window.innerHeight;
  	
  	colorTrace("theScreen Dimension = " + theScreenWidth + " X " + theScreenHeight, "Green");

  	//=========================================================
   	//==|| The Default Values ||===============================
   	//=========================================================

   	//==|| The widht and height for the 3D Module Area

   	var theWidth 	= theScreenWidth - 446 - 8; //418 	//==|| Minus the Left Panel width and area taken by margin
   	var theHeight 	= theScreenHeight - 60 - 100; 		//==|| Minus the Area taken by Top most Panels
  	//theHeight = theHeight - 40;

	//==|| The Axes-Plane Ranges
   	var minY = -100, 
   		maxY = 100;
   	var	minX = -100, 
   		maxX = 100;
   	var	theZ = 150;

   	//==|| The Unit for grids
   	var theUnit = 50;



   	//==|| the Main Object that would contain every other object in the scene
	var theMainObject = new THREE.Object3D();

	//==|| The WellPath
	var theWellPath = new THREE.Object3D();

	//==|| Stores the lines that make up the Well Path
	var theWellPathList = new Array();


	//==|| The three main Planes
   	var theYZ_Plane = new THREE.Object3D();
   	var theXZ_Plane = new THREE.Object3D();
   	var theXY_Plane = new THREE.Object3D();


   	//==|| The Arrow to North
	var theArrowNorth, theArrowNorthmaterial, theArrowNorthgeo;
	var theArrowNorthColor = "#FFFFFF";
	var theArrowNorthOpacity = 1;	
  	var theArrowNorth_Margin = 450; //==|| How far it is from the XY-Plane
  	var theArrowNorth_Width = 50;	//==|| How wide is it spread NOT length

	//==|| The Lines to the Origin
	var linesToOrigin, linesToOriginMaterial, linesToOriginGeo;

		var colorRed = 0xFF0000;
		var colorGreen = 0x00FF00;
		var colorBlue = 0x0000FF;

	   	//==|| The YZ-Plane Childrens
	 	var theYZ_PlaneOutline, 	theYZ_PlaneOutlineGeo, 		theYZ_PlaneOutlineMaterial;
	 	var theYZ_PlaneGridLines, 	theYZ_PlaneGridLinesGeo, 	theYZ_PlaneGridLinesMaterial;
	 	var theYZ_PlaneAxisLine, 	theYZ_PlaneAxisLineGeo, 	theYZ_PlaneAxisLineMaterial;
	 	var theYZ_PlaneOutlineMaterialColor 		= colorGreen;
	 	var theYZ_PlaneOutlineMaterialLineWidth 	= 1;
	 	var theYZ_PlaneOutlineMaterialLineOpacity 	= 1;
	 	var theYZ_PlaneGridLinesMaterialColor 		= 0x333333;
	 	var theYZ_PlaneGridLinesMaterialLineWidth 	= 1;
	 	var theYZ_PlaneGridLinesMaterialLineOpacity	= 1;
	 	var theYZ_PlaneAxisLineMaterialColor 		= 0xAAAAAA;
	 	var theYZ_PlaneAxisLineMaterialLineWidth 	= 1;
	 	var theYZ_PlaneAxisLineMaterialLineOpacity 	= 1;
	 	//==|| The YZ-Plane Grids
	 	var theYZ_PlaneGrids =  new THREE.Object3D();


		//==|| The XZ-Plane Childrens
	 	var theXZ_PlaneOutline, 	theXZ_PlaneOutlineGeo, 		theXZ_PlaneOutlineMaterial;
     	var theXZ_PlaneGridLines, 	theXZ_PlaneGridLinesGeo, 	theXZ_PlaneGridLinesMaterial;
     	var theXZ_PlaneAxisLine, 	theXZ_PlaneAxisLineGeo, 	theXZ_PlaneAxisLineMaterial;
	 	var theXZ_PlaneOutlineMaterialColor 		= colorRed;
	 	var theXZ_PlaneOutlineMaterialLineWidth 	= 1;
	 	var theXZ_PlaneOutlineMaterialLineOpacity 	= 1;
	 	var theXZ_PlaneGridLinesMaterialColor 		= 0x333333;
	 	var theXZ_PlaneGridLinesMaterialLineWidth 	= 1;
	 	var theXZ_PlaneGridLinesMaterialLineOpacity	= 1;
	 	var theXZ_PlaneAxisLineMaterialColor 		= 0xAAAAAA;
	 	var theXZ_PlaneAxisLineMaterialLineWidth 	= 1;
	 	var theXZ_PlaneAxisLineMaterialLineOpacity 	= 1;
	 	//==|| The XZ-Plane Grids
	 	var theXZ_PlaneGrids =  new THREE.Object3D();


		//==|| The XY-Plane Children
     	var theXY_PlaneOutline, 	theXY_PlaneOutlineGeo, 		theXY_PlaneOutlineMaterial;
     	var theXY_PlaneGridLines, 	theXY_PlaneGridLinesGeo, 	theXY_PlaneGridLinesMaterial;
     	var theXY_PlaneAxisLine, 	theXY_PlaneAxisLineGeo, 	theXY_PlaneAxisLineMaterial;
	 	var theXY_PlaneOutlineMaterialColor 		= colorBlue;
	 	var theXY_PlaneOutlineMaterialLineWidth 	= 1;
	 	var theXY_PlaneOutlineMaterialLineOpacity 	= 1;
	 	var theXY_PlaneGridLinesMaterialColor 		= 0x333333;
	 	var theXY_PlaneGridLinesMaterialLineWidth 	= 1;
	 	var theXY_PlaneGridLinesMaterialLineOpacity = 1;
	 	var theXY_PlaneAxisLineMaterialColor 		= 0xAAAAAA;
	 	var theXY_PlaneAxisLineMaterialLineWidth 	= 1;
	 	var theXY_PlaneAxisLineMaterialLineOpacity 	= 1;
	 	//==|| The XY-Plane Grids
	 	var theXY_PlaneGrids =  new THREE.Object3D();


	//==|| The state of the grids
	var planesAreVisible = true;

 	//==|| The state of the grids
   	var gridIsVisible = true;

   	//==|| The state of the rotation point
   	var rotationPointIsVisible = true;

   	//==|| The state of the Labels
   	var labelsAreVisible = true;

   	//==|| The state of the well paths 
   	var wellPathIsVisible = true;

   	//==|| The state of the Left Panel
   	var leftPanelIsVisible = true;


   	//==|| The center cursor/sign 
	var theScreenCenter;
	//==|| The length of each arm of the sign
   	var centerSignLength = 100;
   	//==|| The visibility status of the screen center sign
   	var screenCenterIsVisible = true;
   	//==|| The Color of the Screen Center Sign
   	var screenCenterSignColor = 0xEEEEEE;
   	//==|| The Opacity of the Screen Center / The center of Rotation
   	var screenCenterSignOpacity = 1;


   	//==|| Stores the values/labels for the grids
   	var theXZ_PlaneLabels = new THREE.Object3D();
   	var theXY_PlaneLabels = new THREE.Object3D();

   	var theLabelColor = "#FFFFFF";
   	var theLabelFont = "Arial";
   	var theLabelOpacity = 1.0;
   	var theLabelFontSize = 60;

   	//==|| The distance between the Axes-Plane outline and the grid value/label
   	var labelMargin = 200;



   	//==|| The Previous point - initially at the origin
   	var thePreviousPoint = new THREE.Vector3(0,0,0); 

   	//==|| The no. of well path lines in the model
   	var noOfWellPathLines = 0;

   	var theWellLineColor = 0x4045ff;
   	var theWellLineOpacity = 1;

	var theWellPathArray = new Array();



var theLine = function(theStartPoint, theEndPoint, theColor, theLineWidth, theLineOpacity) {
	this.theStartPoint 	= theStartPoint;
	this.theEndPoint 	= theEndPoint;
	this.theColor 		= theColor;
	this.theLineWidth 	= theLineWidth;
	this.theLineOpacity = theLineOpacity;

};



//####################################################################################################################################
//#########################################################[ DOM Ready ]##############################################################
//####################################################################################################################################
$(document).ready(function() {


	init();
	animate();


	//==|| Read the well JSON data and construct the well path from it.
	readWellJSONdata(theWellJSONdata);
	//readWellJSONdata(theDefaultWellJSONdata); //==|| The Default empty 3D Well Module


	//==Read the setting
	readSettings(theDefaultSettingsJSONdata);

	//theCamera.target.x = 0; //(new THREE.Vector3(0, 150, 0));
	//theCamera.target.y = 150; 
	//theCamera.target.z = 0; 

	//theCamera.updateProjectionMatrix();
	//render();
	//animate();

	$("#thePathsDetailContainer").css({"height" : theHeight + 2 - 45});
	$("#theConfigurationPanel").css({"height": theHeight + 2 - 45});

	$("#theContainer").css({"width" :  theWidth });
	$("#theContainer").css({"height" :  theHeight});



	//===< turn them into jQuery buttons >===
	/*$(".btn").each(function() {
		$(this).button({});
	});
*/

	//==|| Left Panel will be Tabbed
	$(function() {
		$( "#theTabs" ).tabs();
	});


	//=========================
	//==|| Toggle Buttons ||===
	//=========================
	//==|| Register the Toggle button event listener
	//==|| for the Axes planes
	registerTogglePlanes();


	//==|| Register the Toggle button event listener
	//==|| for the Grids in each of the Axes planes
	registerToggleGrids();

	//==|| Register the Toggle button event listener
	//==|| for the Central Rotation Point/Icon/Symbol
	registerToggleRotationPoint();


	//==|| Register the Toggle button event listener
	//==|| for the Labels in each of the Axes Planes
	registerToggleLabels();

	//==|| Register the Toggle button event listener
	//==|| for the Well path
	registerToggleWellPath();


	//==|| Register the Toggle button event listener
	//==|| for the Left Panel
	registerToggleShowHideLeftPanel();



/*
	//==|| Register the button press and release effect event listener
	registerButtonPressReleaseEffects();

	//==|| Register the Add path button event listener
	//==|| for the Add button in the Well Paths Tab in Left Panel
	registerAddPathButton();

	//==|| Register the Edit Path button event listener
	//==|| for the Edit button in the Well Paths Tab in Left Panel
	registerEditPathButton();

	//==|| Register the Done Path button event listener
	//==|| for the Done button in the Well Paths Tab in Left Panel
	registerDonePathButton();
*/



}); //==|| dom ready ||========
//################################################################################################################################################
//################################################################################################################################################
//################################################################################################################################################




</script>
<script type="text/javascript">

	function init() {

		//==|| The Camera
		theCamera = new THREE.PerspectiveCamera( 45, theWidth / theHeight, 1, 10000 );
	    /*
	    //==|| just keeping them for reference ; must be deleted later
	    theCamera.position.x = 0;
	    theCamera.position.y = 75;
		theCamera.position.z = 300;
		

	    theCamera.position.x = 213;
	    theCamera.position.y = -26;
	    theCamera.position.z = -248; //==|| Zoom
		*/

	    theCamera.position.x = -3350; //350; //==|| This is our zoom now
	    theCamera.position.y = 1285;//285;
		theCamera.position.z = -1055;//-55;

	    //==| Flip the camera so that the Z is pointing downwards rather than upwards
	    theCamera.up.set(0, 0, -1 ); 

	   	//theCamera.rotation.eulerOrder = 'XYZ';
	    //theCamera.lookAt(new THREE.Vector3(100, 100, 0));
	   	//	render();
	   	// theCamera.target.position.copy(100, 100, 0);
	   	// theCamera.updateProjectionMatrix();

	   	//==|| The Target for camera to rotate on
	   				//	theCameraTarget = new THREE.Vector3(-45, 80, -20);
	   	theCameraTarget = new THREE.Vector3(0, -28, 810);

		//==|| The World / The Scene
		theScene = new THREE.Scene();
		theRenderer = new THREE.WebGLRenderer( { antialias: true } );
				//theScene.fog = new THREE.FogExp2( theSceneColor, 0.0002 );
		//==|| Change the Scene Color
		//changeSceneColor(theSceneColor);



		//==|| Create a sign at the center of the screen
		createScreenCenter(theCameraTarget.x, theCameraTarget.y, theCameraTarget.z, centerSignLength, screenCenterSignColor, screenCenterSignOpacity);
    	

		//==|| Add Axes Planes to the scene
		addAxesPlanes();


		//==|| The Renderer
		
		//theRenderer.setClearColor( theScene.fog.color, 1 );
		theRenderer.setSize( theWidth, theHeight );


	    //==|| attach the render-supplied DOM element
	    theContainer.append(theRenderer.domElement);



	    //==|| Add Trackball controls	
		addTrackballControls();


	    //==|| The Statistics
	    //==|| Currently I have disabled them
	    
		stats = new Stats();
		stats.domElement.style.position = 'absolute';
		stats.domElement.style.top = '0px';
		stats.domElement.style.zIndex = 100;
		//theContainer.append( stats.domElement ); //==||  Not showing the stats for now
		

		//==|| On window resize call the function onWindowResize()
		window.addEventListener( 'resize', onWindowResize, false );

	}


//==|| Reads theWellJSONdata JSON object and constructs the well according to it
function readWellJSONdata(theWellJSONdata) {

	//==|| Resetting the Previous point to be Origin
	thePreviousPoint = new THREE.Vector3(0,0,0); 

	//==|| Resetting the No. of well Path lines to be 0
   	noOfWellPathLines = 0;

   	//==|| Emptying the Tables of values
   	 $("#theAddPathContainer").empty();

	//theWellPathArray

	var data = theWellJSONdata;

		//==|| Read the ranges for the Axes Plane
		minX 	= data.minX;
		maxX 	= data.maxX;
		minY 	= data.minY;
		maxY	= data.maxY;
		theZ 	= data.theZ;
		theUnit = data.theUnit;

		/*
		//==|| Let's check the values
		colorTrace("minX : " + minX, "Green");
		colorTrace("maxX : " + maxX, "Blue");
		colorTrace("minY : " + minY, "Green");
		colorTrace("maxY : " + maxY, "Blue");
		colorTrace("theZ : " + theZ, "Green");
		colorTrace("theUnit : " + theUnit, "Blue");
		*/

		//==|| Redraw the Axes planes according to the new ranges
		redrawAxesPlanes();


		//==|| These are the values User inputted
		var theValues = data.theValues;

		//==|| Iterate through the values
		$.each(theValues, function(valuesIndex) {
				
				//==|| The values 
				var theMD 		= theValues[valuesIndex].theMD;
				var theCL 		= theValues[valuesIndex].theCL;
				var theINC 		= theValues[valuesIndex].theINC;
				var theAZI		= theValues[valuesIndex].theAZI;
				var theTVD		= theValues[valuesIndex].theTVD;
				var itsX 		= theValues[valuesIndex].itsX;
				var itsY 		= theValues[valuesIndex].itsY;
				var itsZ 		= theValues[valuesIndex].itsZ;
				var itsDX		= theValues[valuesIndex].itsDX;
				var itsDY		= theValues[valuesIndex].itsDY;
				var itsDZ		= theValues[valuesIndex].itsDZ;
				var theDogleg	= theValues[valuesIndex].theDogleg;
				var theBuild	= theValues[valuesIndex].theBuild;
				var theTurn		= theValues[valuesIndex].theTurn;
				var theSecType	= theValues[valuesIndex].theSecType;


				//==|| These are the points that make up the line
				//==|| NOTE: currently not doing anything with them...
				var thePoints 	= theValues[valuesIndex].thePoints;
						
				/*		
				//==|| Let's check the values
				colorTrace("theMD : " + theMD, "Green");
				colorTrace("theINC : " + theINC, "Blue");
				colorTrace("theAZI : " + theAZI, "Green");
				colorTrace("itsX : " + itsX, "Blue");
				colorTrace("itsY : " + itsY, "Green");
				colorTrace("itsZ : " + itsZ, "Blue");
				*/

				//==|| Add this to our main Well path object
				addWellPath(itsX, itsY, itsZ);

				//==|| Add a new Row in the table with the values shown
				addNewRowInTable(	noOfWellPathLines, 
									theMD, theCL, 
									theINC, theAZI, theTVD, 
									itsX, itsY, itsZ, itsDX, itsDY, itsDZ, 
									theDogleg, theBuild, theTurn, 
									theSecType, "Edit" , false
								);
				noOfWellPathLines++;
				colorTrace("inside readWllJSONdata  no.of well path lines " + noOfWellPathLines, "Green");

				//registerAddPathButton();
				//registerEditPathButton();
				//registerDonePathButton();

				registerButtonPressReleaseEffects();


				$.each(thePoints, function(pointsIndex) {
					var x = thePoints[pointsIndex].x;
					var y = thePoints[pointsIndex].y;
					var z = thePoints[pointsIndex].z;
					
					/*
					//==|| Let's check the values
					colorTrace("x : " + x, "Green");
					colorTrace("y : " + y, "Blue");
					colorTrace("z : " + z, "Green");
					*/

					//==|| Need to do something with these points later ||==
					// ****
					// ****
					// ****
					// ****
				});

				

		});

	//==|| Adding a new row
	addNewRowInTable(noOfWellPathLines, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "Tangent", "Add", true);	

	colorTrace("inside readWllJSONdata 2 no.of well path lines " + noOfWellPathLines, "Green");

	//==|| Register the event listeners for the Buttons
	registerAddPathButton();
	registerEditPathButton();
	registerDonePathButton();

	registerButtonPressReleaseEffects();

	//==|| Render the changes
	render();	


}



//==|| Reading the 3D Module Setting from a JSON object
//==|| and update the 3D Module according to it.
function readSettings(data) {
 	//var data = theDefaultSettingsJSONdata;
 	
 	//==|| Get the Values from the JSON object
 	theSceneColor					  	= data.theSceneColor;
 	theWellLineColor				  	= data.theWellLineColor;
 	theWellLineOpacity					= data.theWellLineOpacity;

 	theXY_PlaneOutlineMaterialColor	  			= data.theXY_PlaneOutlineMaterialColor;
 	theXY_PlaneOutlineMaterialLineOpacity	  	= data.theXY_PlaneOutlineMaterialLineOpacity;
	theXY_PlaneGridLinesMaterialColor 			= data.theXY_PlaneGridLinesMaterialColor;
	theXY_PlaneGridLinesMaterialLineOpacity 	= data.theXY_PlaneGridLinesMaterialLineOpacity;
	theXY_PlaneAxisLineMaterialColor  			= data.theXY_PlaneAxisLineMaterialColor;
	theXY_PlaneAxisLineMaterialLineOpacity  	= data.theXY_PlaneAxisLineMaterialLineOpacity;

	theXZ_PlaneOutlineMaterialColor	  			= data.theXZ_PlaneOutlineMaterialColor;
	theXZ_PlaneOutlineMaterialLineOpacity		= data.theXZ_PlaneOutlineMaterialLineOpacity;
	theXZ_PlaneGridLinesMaterialColor 			= data.theXZ_PlaneGridLinesMaterialColor;
	theXZ_PlaneGridLinesMaterialLineOpacity 	= data.theXZ_PlaneGridLinesMaterialLineOpacity;
	theXZ_PlaneAxisLineMaterialColor  			= data.theXZ_PlaneAxisLineMaterialColor;
	theXZ_PlaneAxisLineMaterialLineOpacity  	= data.theXZ_PlaneAxisLineMaterialLineOpacity;

	theYZ_PlaneOutlineMaterialColor   			= data.theYZ_PlaneOutlineMaterialColor;
	theYZ_PlaneOutlineMaterialLineOpacity		= data.theYZ_PlaneOutlineMaterialLineOpacity;
	theYZ_PlaneGridLinesMaterialColor 			= data.theYZ_PlaneGridLinesMaterialColor;
	theYZ_PlaneGridLinesMaterialLineOpacity		= data.theYZ_PlaneGridLinesMaterialLineOpacity;
	theYZ_PlaneAxisLineMaterialColor  			= data.theYZ_PlaneAxisLineMaterialColor;
	theYZ_PlaneAxisLineMaterialLineOpacity		= data.theYZ_PlaneAxisLineMaterialLineOpacity;

	theLabelColor				= data.theLabelColor;
	theLabelFontSize			= data.theLabelFontSize;
	theLabelOpacity				= data.theLabelOpacity;

	theArrowNorthColor			= data.theArrowNorthColor;
	theArrowNorthOpacity		= data.theArrowNorthOpacity;
	screenCenterSignColor		= data.screenCenterSignColor;
	screenCenterSignOpacity		= data.screenCenterSignOpacity;


	//==|| Show the values in their respective Input boxes in the Configuration Tab in the Left Panel
	$("#theSceneColorInput").val(theSceneColor);
	$("#theWellPathColorInput").val(theWellLineColor);

	$("#XYplaneOutlineColorInput").val(theXY_PlaneOutlineMaterialColor);
	$("#XYplaneGridlineColorInput").val(theXY_PlaneGridLinesMaterialColor);
	$("#XYplaneAxislineColorInput").val(theXY_PlaneAxisLineMaterialColor);

	$("#XZplaneOutlineColorInput").val(theXZ_PlaneOutlineMaterialColor);
	$("#XZplaneGridlineColorInput").val(theXZ_PlaneGridLinesMaterialColor);
	$("#XZplaneAxislineColorInput").val(theXZ_PlaneAxisLineMaterialColor);

	$("#YZplaneOutlineColorInput").val(theYZ_PlaneOutlineMaterialColor);
	$("#YZplaneGridlineColorInput").val(theYZ_PlaneGridLinesMaterialColor);
	$("#YZplaneAxislineColorInput").val(theYZ_PlaneAxisLineMaterialColor);

	$("#labelColorInput").val(theLabelColor);
	//$("#labelSizeInput").val(theLabelFontSize);

	$("#arrowColorInput").val(theArrowNorthColor);
	$("#rotationSignColorInput").val(screenCenterSignColor);




	//###############################################################################################################
	//##########################################[ The Color Pickers ]################################################
	//###############################################################################################################
	
	//==|| For the Scene
	$("#theSceneColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();
			changeSceneColor(tinycolor);
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;
	    	changeSceneColor(tinycolor);
	    	theSceneColor = tinycolor;

			saveSettings();

			render();
        }
	});


	//==|| For the Well Path
	$("#theWellPathColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theWellLineColor = tinycolor;
			redrawWellPath(true);
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theWellLineColor = tinycolor;
	    	redrawWellPath(true);
			render();

			saveSettings();
        }
	});



	//==|| For the Outline of XY Plane
	$("#XYplaneOutlineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theXY_PlaneOutlineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXY_Plane();
			//==|| Redrawing the XY Plane
			drawXY_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theXY_PlaneOutlineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXY_Plane();
			//==|| Redrawing the XY Plane
			drawXY_Plane();	
			render();

			saveSettings();
        }
	});




	//==|| For the Gridlines  of XY Plane
	$("#XYplaneGridlineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theXY_PlaneGridLinesMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXY_Plane();
			//==|| Redrawing the XY Plane
			drawXY_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theXY_PlaneGridLinesMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXY_Plane();
			//==|| Redrawing the XY Plane
			drawXY_Plane();	
			render();

			saveSettings();
        }
	});


	//==|| For the Axes lines  of XY Plane
	$("#XYplaneAxislineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theXY_PlaneAxisLineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXY_Plane();
			//==|| Redrawing the XY Plane
			drawXY_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theXY_PlaneAxisLineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXY_Plane();
			//==|| Redrawing the XY Plane
			drawXY_Plane();	
			render();

			saveSettings();
        }
	});




	//==|| For the Outline of XZ Plane
	$("#XZplaneOutlineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theXZ_PlaneOutlineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXZ_Plane();
			//==|| Redrawing the XY Plane
			drawXZ_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theXZ_PlaneOutlineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXZ_Plane();
			//==|| Redrawing the XY Plane
			drawXZ_Plane();	
			render();

			saveSettings();
        }
	});




	//==|| For the Gridlines  of XZ Plane
	$("#XZplaneGridlineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theXZ_PlaneGridLinesMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXZ_Plane();
			//==|| Redrawing the XY Plane
			drawXZ_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theXZ_PlaneGridLinesMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXZ_Plane();
			//==|| Redrawing the XY Plane
			drawXZ_Plane();	
			render();

			saveSettings();
        }
	});


	//==|| For the Axes lines  of XZ Plane
	$("#XZplaneAxislineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theXZ_PlaneAxisLineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXZ_Plane();
			//==|| Redrawing the XY Plane
			drawXZ_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theXZ_PlaneAxisLineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyXZ_Plane();
			//==|| Redrawing the XY Plane
			drawXZ_Plane();	
			render();

			saveSettings();
        }
	});




	//==|| For the Outline of YZ Plane
	$("#YZplaneOutlineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theYZ_PlaneOutlineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyYZ_Plane();
			//==|| Redrawing the XY Plane
			drawYZ_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theYZ_PlaneOutlineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyYZ_Plane();
			//==|| Redrawing the XY Plane
			drawYZ_Plane();	
			render();

			saveSettings();
        }
	});




	//==|| For the Gridlines  of YZ Plane
	$("#YZplaneGridlineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theYZ_PlaneGridLinesMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyYZ_Plane();
			//==|| Redrawing the XY Plane
			drawYZ_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theYZ_PlaneGridLinesMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyYZ_Plane();
			//==|| Redrawing the XY Plane
			drawYZ_Plane();	
			render();

			saveSettings();
        }
	});


	//==|| For the Axes lines  of YZ Plane
	$("#YZplaneAxislineColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theYZ_PlaneAxisLineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyYZ_Plane();
			//==|| Redrawing the XY Plane
			drawYZ_Plane();	
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theYZ_PlaneAxisLineMaterialColor = tinycolor;

			//==|| Empty XY Plane first
			emptyYZ_Plane();
			//==|| Redrawing the XY Plane
			drawYZ_Plane();	
			render();

			saveSettings();
        }
	});



	//==|| For the Labels
	$("#labelColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theLabelColor = tinycolor;

			//==|| Empty all Axes Planes first
			emptyYZ_Plane();
			emptyXY_Plane();
			emptyXZ_Plane();

			//==|| Redrawing all Axes Planes
			drawYZ_Plane();
			drawXY_Plane();
			drawXZ_Plane();

			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theLabelColor = tinycolor;

			//==|| Empty all Axes Planes first
			emptyYZ_Plane();
			emptyXY_Plane();
			emptyXZ_Plane();

			//==|| Redrawing all Axes Planes
			drawYZ_Plane();	
			drawXY_Plane();
			drawXZ_Plane();
			render();

			saveSettings();
        }
	});



	//==|| For the North arrow
	$("#arrowColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	theArrowNorthColor = tinycolor;
					
			//==|| remove the previous North Arrow 
			theMainObject.remove(theArrowNorth);

			//==|| Now redraw the North Arrow
			drawArrowNorth();

			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	theArrowNorthColor = tinycolor;
					
			//==|| remove the previous North Arrow 
			theMainObject.remove(theArrowNorth);

			//==|| Now redraw the North Arrow
			drawArrowNorth();

			render();

			saveSettings();
        }
	});



	//==|| For the North arrow
	$("#rotationSignColorInput").spectrum({
	    preferredFormat: "hex",
	    showInitial: true,
	    showInput: true,
	    move: function(tinycolor) {
	    	tinycolor = tinycolor.toHexString();	    	
	    	screenCenterSignColor = tinycolor;
				
			//==|| remove the previous Screen Center		
			theMainObject.remove(theScreenCenter);
			//==|| Now create a new Screen Center
			createScreenCenter(theCameraTarget.x, theCameraTarget.y, theCameraTarget.z, centerSignLength, screenCenterSignColor, screenCenterSignOpacity);

			
			render();
	    },
	    hide: function(tinycolor) {
            tinycolor = tinycolor.toHexString();
	    	//theWellLineColor = tinycolor;	    	
	    	screenCenterSignColor = tinycolor;

	    	//==|| remove the previous Screen Center
	    	theMainObject.remove(theScreenCenter);			
			//==|| Now create a new Screen Center		
			createScreenCenter(theCameraTarget.x, theCameraTarget.y, theCameraTarget.z, centerSignLength, screenCenterSignColor, screenCenterSignOpacity);

			render();


			saveSettings();
        }
	});



	//###########################################################################################################
	//##########################################[ Opactiy Sliders]###############################################
	//###########################################################################################################

	//==|| Opacity Slider for the Well Path
	$("#theWellPathLineOpacity").noUiSlider({
		range: [0,1],
		start: theWellLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			//colorTrace("Current Slide value is = " + values, "Green");
			var displayValue = parseFloat(values);

			//==|| new opacity value
			theWellLineOpacity = displayValue;
			
			//==|| Redraw the well path with new changed features
			redrawWellPath(true);
			render();

			//$(this).find(".noUi-origin-lower").html('<div class="noUi-handle noUi-handle-lower"></div>' + '<span class="opacityValue">' + values + "</span>");
			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			colorTrace("Slide Stopped", "Red");

   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});



	//==|| Opacity Slider for the XY Plane Outline
	$("#XYplaneOutlineLineOpacity").noUiSlider({
		range: [0,1],
		start: theXY_PlaneOutlineMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theXY_PlaneOutlineMaterialLineOpacity = displayValue;

			emptyXY_Plane();
			drawXY_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});


	//==|| Opacity Slider for the XY Plane Outline
	$("#XYplaneGridlineLineOpacity").noUiSlider({
		range: [0,1],
		start: theXY_PlaneGridLinesMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theXY_PlaneGridLinesMaterialLineOpacity = displayValue;

			emptyXY_Plane();
			drawXY_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});




	//==|| Opacity Slider for the XY Plane Outline
	$("#XYplaneAxislineLineOpacity").noUiSlider({
		range: [0,1],
		start: theXY_PlaneAxisLineMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theXY_PlaneAxisLineMaterialLineOpacity = displayValue;

			emptyXY_Plane();
			drawXY_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});







	//==|| Opacity Slider for the XZ Plane Outline
	$("#XZplaneOutlineLineOpacity").noUiSlider({
		range: [0,1],
		start: theXZ_PlaneOutlineMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theXZ_PlaneOutlineMaterialLineOpacity = displayValue;

			emptyXZ_Plane();
			drawXZ_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});


	//==|| Opacity Slider for the XZ Plane Gridline
	$("#XZplaneGridlineLineOpacity").noUiSlider({
		range: [0,1],
		start: theXZ_PlaneGridLinesMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theXZ_PlaneGridLinesMaterialLineOpacity = displayValue;

			emptyXZ_Plane();
			drawXZ_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});




	//==|| Opacity Slider for the XZ Plane Axisline
	$("#XZplaneAxislineLineOpacity").noUiSlider({
		range: [0,1],
		start: theXZ_PlaneAxisLineMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theXZ_PlaneAxisLineMaterialLineOpacity = displayValue;

			emptyXZ_Plane();
			drawXZ_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});







	//==|| Opacity Slider for the YZ Plane Outline
	$("#YZplaneOutlineLineOpacity").noUiSlider({
		range: [0,1],
		start: theYZ_PlaneOutlineMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theYZ_PlaneOutlineMaterialLineOpacity = displayValue;

			emptyYZ_Plane();
			drawYZ_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});


	//==|| Opacity Slider for the YZ Plane Gridlines
	$("#YZplaneGridlineLineOpacity").noUiSlider({
		range: [0,1],
		start: theYZ_PlaneGridLinesMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theYZ_PlaneGridLinesMaterialLineOpacity = displayValue;

			emptyYZ_Plane();
			drawYZ_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});




	//==|| Opacity Slider for the YZ Plane Axis Line
	$("#YZplaneAxislineLineOpacity").noUiSlider({
		range: [0,1],
		start: theYZ_PlaneAxisLineMaterialLineOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theYZ_PlaneAxisLineMaterialLineOpacity = displayValue;

			emptyYZ_Plane();
			drawYZ_Plane();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});





	//==|| Opacity Slider for the North Arrow 
	$("#arrowOpacity").noUiSlider({
		range: [0,1],
		start: theArrowNorthOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theArrowNorthOpacity = displayValue;

			//==|| remove the previous North Arrow 
			theMainObject.remove(theArrowNorth);

			//==|| Now redraw the North Arrow
			drawArrowNorth();
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});






	//==|| Opacity Slider for the Center of Rotation Sign
	$("#rotationSignOpacity").noUiSlider({
		range: [0,1],
		start: screenCenterSignOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			screenCenterSignOpacity = displayValue;

	    	//==|| remove the previous Screen Center
	    	theMainObject.remove(theScreenCenter);			
			//==|| Now create a new Screen Center
			createScreenCenter(theCameraTarget.x, theCameraTarget.y, theCameraTarget.z, centerSignLength, screenCenterSignColor, screenCenterSignOpacity);
			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1) );

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});






	//==|| Opacity Slider for the Center of Rotation Sign
	$("#labelSizeSlider").noUiSlider({
		range: [300,950],
		start: theLabelFontSize,
		steps: 50,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseInt(values);

			theLabelFontSize = displayValue;

			//==|| Empty all Axes Planes first
			emptyYZ_Plane();
			emptyXY_Plane();
			emptyXZ_Plane();

			//==|| Redrawing all Axes Planes
			drawYZ_Plane();
			drawXY_Plane();
			drawXZ_Plane();

			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue);

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});






	//==|| Opacity Slider for the Center of Rotation Sign
	$("#labelOpacity").noUiSlider({
		range: [0,1],
		start: theLabelOpacity,
		steps: 0.01,
		handles: 1,

		slide: function(){
			var values = $(this).val();
			var displayValue = parseFloat(values);

			theLabelOpacity = displayValue;

			//==|| Empty all Axes Planes first
			emptyYZ_Plane();
			emptyXY_Plane();
			emptyXZ_Plane();

			//==|| Redrawing all Axes Planes
			drawYZ_Plane();
			drawXY_Plane();
			drawXZ_Plane();

			render();

			//==|| Display the current Opacity value in the Slide handle
			$(this).find(".noUi-handle-lower").html( displayValue.toFixed(1));

   		},
   		set: function() {
   			//==|| Lets Empty Slider handle 
   			$(this).find(".noUi-handle-lower").html("");

   			saveSettings();
   		}
	});


//############################################
//######[ Finally Redrawing everything ]######
//############################################


	//==|| Change the Scene color
	changeSceneColor(theSceneColor);

	//==|| remove the previous Screen Center
	theMainObject.remove(theScreenCenter);	
	//==|| Now create a new Screen Center		
	createScreenCenter(theCameraTarget.x, theCameraTarget.y, theCameraTarget.z, centerSignLength, screenCenterSignColor, screenCenterSignOpacity);

	//==|| Read the Settings 
	redrawAxesPlanes();
	redrawWellPath(true);





} //==||################################################# readSettings() //#########################################


//==|| Save the Settings 
function saveSettings() {
		

	theDefaultSettingsJSONdata.theSceneColor = theSceneColor;
	theDefaultSettingsJSONdata.theWellLineColor = theWellLineColor;
	theDefaultSettingsJSONdata.theWellLineOpacity = theWellLineOpacity;
	theDefaultSettingsJSONdata.theXY_PlaneOutlineMaterialColor = theXY_PlaneOutlineMaterialColor;
	theDefaultSettingsJSONdata.theXY_PlaneOutlineMaterialLineOpacity = theXY_PlaneOutlineMaterialLineOpacity;
	theDefaultSettingsJSONdata.theXY_PlaneGridLinesMaterialColor = theXY_PlaneGridLinesMaterialColor;
	theDefaultSettingsJSONdata.theXY_PlaneGridLinesMaterialLineOpacity = theXY_PlaneGridLinesMaterialLineOpacity;
	theDefaultSettingsJSONdata.theXY_PlaneAxisLineMaterialColor = theXY_PlaneAxisLineMaterialColor;
	theDefaultSettingsJSONdata.theXY_PlaneAxisLineMaterialLineOpacity = theXY_PlaneAxisLineMaterialLineOpacity;
	theDefaultSettingsJSONdata.theXZ_PlaneOutlineMaterialColor = theXZ_PlaneOutlineMaterialColor;
	theDefaultSettingsJSONdata.theXZ_PlaneOutlineMaterialLineOpacity = theXZ_PlaneOutlineMaterialLineOpacity;
	theDefaultSettingsJSONdata.theXZ_PlaneGridLinesMaterialColor = theXZ_PlaneGridLinesMaterialColor;
	theDefaultSettingsJSONdata.theXZ_PlaneGridLinesMaterialLineOpacity = theXZ_PlaneGridLinesMaterialLineOpacity;
	theDefaultSettingsJSONdata.theXZ_PlaneAxisLineMaterialColor = theXZ_PlaneAxisLineMaterialColor;
	theDefaultSettingsJSONdata.theXZ_PlaneAxisLineMaterialLineOpacity = theXZ_PlaneAxisLineMaterialLineOpacity;
	theDefaultSettingsJSONdata.theYZ_PlaneOutlineMaterialColor = theYZ_PlaneOutlineMaterialColor;
	theDefaultSettingsJSONdata.theYZ_PlaneOutlineMaterialLineOpacity = theYZ_PlaneOutlineMaterialLineOpacity;
	theDefaultSettingsJSONdata.theYZ_PlaneGridLinesMaterialColor = theYZ_PlaneGridLinesMaterialColor;
	theDefaultSettingsJSONdata.theYZ_PlaneGridLinesMaterialLineOpacity = theYZ_PlaneGridLinesMaterialLineOpacity;
	theDefaultSettingsJSONdata.theYZ_PlaneAxisLineMaterialColor = theYZ_PlaneAxisLineMaterialColor;
	theDefaultSettingsJSONdata.theYZ_PlaneAxisLineMaterialLineOpacity = theYZ_PlaneAxisLineMaterialLineOpacity;
	theDefaultSettingsJSONdata.theLabelColor = theLabelColor;
	theDefaultSettingsJSONdata.theLabelFontSize = theLabelFontSize;
	theDefaultSettingsJSONdata.theLabelOpacity = theLabelOpacity;
	theDefaultSettingsJSONdata.theArrowNorthColor = theArrowNorthColor;
	theDefaultSettingsJSONdata.theArrowNorthOpacity = theArrowNorthOpacity;
	theDefaultSettingsJSONdata.screenCenterSignColor = screenCenterSignColor;
	theDefaultSettingsJSONdata.screenCenterSignOpacity = screenCenterSignOpacity;

	save_3dconfig(theDefaultSettingsJSONdata);

}





//==|| Add a new line to the entire well Path
function addWellPath(x, y, z) {
	//theWellPath.push( new theLine(v(0,0,0), v(10,20, 100)));
	
		var newPoint = v(x,y,z);

			//==|| The New Line material
	      	var theNewLineMaterial = new THREE.LineBasicMaterial( {
	      			transparent: true,
	      			color: theWellLineColor,
	      			opacity: theWellLineOpacity, 
	      			lineWidth: 1
	      		}
	      	);


			//==|| The New Line Geometry
	      	var theNewLineGeo = new THREE.Geometry();
	      	theNewLineGeo.vertices.push(
	      		thePreviousPoint, newPoint
	      	);


	      	//==|| The New Line
	      	var theNewLine = new THREE.Line(theNewLineGeo, theNewLineMaterial);
	      	theNewLine.type = THREE.Lines;


      	//==|| Add the line to the list of wellPath Lines
      	theWellPathArray.push(new theLine(thePreviousPoint, newPoint, theWellLineColor, 1, theWellLineOpacity) );

      	//==|| Add the new line to the Well Path object in the scene
		theWellPath.add(theNewLine);

		//==|| Keeping the list
		theWellPathList.push(theNewLine);

		//==|| Now new point becomes the previous point
		thePreviousPoint = newPoint;




}



	//==|| This checks if the point entered in the text-boxes is fine
	//==|| This receives the current active row no (by active row it means the row in the table
	//==|| in which the text input is active ) which is used to check each of the inputs
	//==|| Currently it only checks if the inputs are non-empty or not.
	//==|| later need to add the features like adding 0 automatically when nothing is there
	//==|| when there are non-numbers, change them to 0 or show some message saying false input
	function isPointOkToAdd(noOfWellPathLines) {


		var noOfWellPathLinesStr = changeNoOfWellPathLinesIntoString(noOfWellPathLines);
		
		colorTrace("noOfWellPathLinesStr" + noOfWellPathLinesStr, "Green");

		//==|| Checks if the input fields are empty 
		if($("#valueMD_" + noOfWellPathLinesStr).val().length == 0 ) {
        	return false;
        }

		if($("#valueINC_" + noOfWellPathLinesStr).val().length == 0 ) {
        	return false;
        }

        if($("#valueAZI_" + noOfWellPathLinesStr).val().length == 0 ) {
        	return false;
        }

   
        //==|| yah it's perfectly fine to add the point
		return true;
	}




	//==|| Takes in the integer value and return the equivalent value in 3-letters
	function changeNoOfWellPathLinesIntoString(no) {

		if(no >0 && no <= 999) {
			if(no < 10) {
				return "00" + no;
			}
			else if(no > 9 && no < 100){
				return "0" + no;
			}
			else {
				return no + "";
			}
		}
		else {
			return "000";
		}


	}


//==|| for the toggle buttons, add/remove the pressedBtn class for the Pressed or Released effect
function registerButtonPressReleaseEffects() {

	$(".btn").mousedown(function(){
		$(this).addClass("pressedBtn");
	});

	$(".btn").mouseup(function(){
		$(this).removeClass("pressedBtn");
	});

}



function registerToggleShowHideLeftPanel() {
	$("#showHideLeftPanelBtn").click(function (){
		if(leftPanelIsVisible) {
			leftPanelIsVisible = false;
			$("#theTabs").css({"display":"none"});
			$("#showHideLeftPanelButtonContainer").css({"left":"15px"});
			$("#showHideLeftPanelBtn").find(".ui-button-text").text("Show");

		}
		else {
			leftPanelIsVisible = true;
			$("#theTabs").css({"display":"block"});
			$("#showHideLeftPanelButtonContainer").css({"left":"418px"});
			$("#showHideLeftPanelBtn").find(".ui-button-text").text("Hide");
		}

		onWindowResize();

	});

}



function registerTogglePlanes() {	

	//==|| Add the click event ||===
	$("#toggleAxesPlanes").click(function(){

		 //$('a#button').click(function(){
       		 $(this).toggleClass("inactiveBtn");
   		 //});

		if(planesAreVisible) { 
			planesAreVisible = false;
			
			theMainObject.remove(theXY_Plane);
			theMainObject.remove(theYZ_Plane);
			theMainObject.remove(theXZ_Plane);

			theMainObject.remove(theArrowNorth);

			theMainObject.remove(linesToOrigin);

		}
		else {
			planesAreVisible = true;			
	
			theMainObject.add(theXY_Plane);
			theMainObject.add(theYZ_Plane);
			theMainObject.add(theXZ_Plane);

			theMainObject.add(theArrowNorth);

			theMainObject.add(linesToOrigin);

		}

			//==|| Lets see the changes
			render();

	});


}



function registerToggleGrids() {

	//==|| Add the click event ||===
	$("#toggleGridBtn").click(function(){

		 //$('a#button').click(function(){
       		 $(this).toggleClass("inactiveBtn");
   		 //});

		if(gridIsVisible) { 
			colorTrace("Grid is going to be invisible", "red");
			gridIsVisible = false;

			//==|| Hide all grids from the axes planes
			//theYZ_Plane.remove(theYZ_PlaneGrids);
			//theXZ_Plane.remove(theXZ_PlaneGrids);
			//theXY_Plane.remove(theXY_PlaneGrids);\


			//==|| Hide grids but not the axis lines
			theYZ_PlaneGrids.remove(theYZ_PlaneGridLines);
			theXZ_PlaneGrids.remove(theXZ_PlaneGridLines);
			theXY_PlaneGrids.remove(theXY_PlaneGridLines);


		}
		else {
			colorTrace("Grid is going to be visible","green");
			gridIsVisible = true;
			
			//==|| Hide all grids from the axes planes
			//theYZ_Plane.add(theYZ_PlaneGrids);
			//theXZ_Plane.add(theXZ_PlaneGrids);
			//theXY_Plane.add(theXY_PlaneGrids);

			//==|| Hide grids but not the axis lines
			theYZ_PlaneGrids.add(theYZ_PlaneGridLines);
			theXZ_PlaneGrids.add(theXZ_PlaneGridLines);
			theXY_PlaneGrids.add(theXY_PlaneGridLines);

		}

		//==|| Lets see the changes
		render();

	});


}


function registerToggleRotationPoint() {

	//==|| Add the click event ||===
	$("#toggleRotationCenterSymbol").click(function(){

		 //$('a#button').click(function(){
       		 $(this).toggleClass("inactiveBtn");
   		 //});

		if(rotationPointIsVisible) { 
			colorTrace("Rotation Point is going to be invisible", "red");
			rotationPointIsVisible = false;

			theMainObject.remove(theScreenCenter);

		}
		else {
			colorTrace("Rotation Point is going to be visible","green");
			rotationPointIsVisible = true;
			
			theMainObject.add(theScreenCenter);

		}

			//==|| Lets see the changes
			render();

	});



}



function registerToggleLabels() {

	//==|| Add the click event ||===
	$("#toggleLabels").click(function(){

		 //$('a#button').click(function(){
       		 $(this).toggleClass("inactiveBtn");
   		 //});

		if(labelsAreVisible) { 
			labelsAreVisible = false;
			
			theXZ_Plane.remove(theXZ_PlaneLabels);
			theXY_Plane.remove(theXY_PlaneLabels);

			//theMainObject.remove(theScreenCenter);

		}
		else {
			labelsAreVisible = true;
			
			theXZ_Plane.add(theXZ_PlaneLabels);
			theXY_Plane.add(theXY_PlaneLabels);

			//theMainObject.add(theScreenCenter);

		}

		//==|| Lets see the changes
		render();


	});


}



function registerToggleWellPath() {

	//==|| Add the click event ||===
	$("#toggleWellPath").click(function(){

		 //$('a#button').click(function(){
       		 $(this).toggleClass("inactiveBtn");
   		 //});

		if(wellPathIsVisible) { 
			wellPathIsVisible = false;
			
			theMainObject.remove(theWellPath);

		}
		else {
			wellPathIsVisible = true;
			
			theMainObject.add(theWellPath);

		}


		//==|| Lets see the changes
		render();

	});

}



function registerAddPathButton() {
	//==|| When the add button is clicked
	$(".addPathBtn").click(function() {
		colorTrace("Add the well", "green");



		//==|| If the Point is okay to add
		if(isPointOkToAdd(noOfWellPathLines)) {
			colorTrace("Point is okay to add", "Green");

			//==|| Find the current table row no
			var noOfWellPathLinesStr = changeNoOfWellPathLinesIntoString(noOfWellPathLines);
			colorTrace("noOfWellPathLinesStr = " + noOfWellPathLinesStr, "Blue");

			//==|| Read the inputted values
			var md = $("#valueMD_"  + noOfWellPathLinesStr).val() - 0;
			var inc = $("#valueINC_"  + noOfWellPathLinesStr).val() - 0;
			var azi = $("#valueAZI_"  + noOfWellPathLinesStr).val() - 0;
			//var x = $("#valueNS_"  + noOfWellPathLinesStr).val() - 0;
			//var y = $("#valueEW_" + noOfWellPathLinesStr).val() - 0;
			//var z = $("#valueVsec_" + noOfWellPathLinesStr).val() - 0;

			colorTrace("md = "+ md + " inc = " + inc + " azi = " + azi , "RED");

			var preMD = 0;
			var preINC = 0;
			var preAZI = 0;
			var preX = 0;
			var preY = 0;
			var preZ = 0;
			
			if(noOfWellPathLines != 0){
				var preRowNo = 	noOfWellPathLines - 1;
				var preRowNoStr = changeNoOfWellPathLinesIntoString(preRowNo);
				colorTrace("preRowNoStr = " + preRowNoStr, "Green");

				preMD  = $("#valueMD_"  + preRowNoStr).val() - 0;
				preINC = $("#valueINC_"  + preRowNoStr).val() - 0;
				preAZI = $("#valueAZI_"  + preRowNoStr).val() - 0;
				preX = $("#valueX_"  + preRowNoStr).val() - 0;
				preY = $("#valueY_"  + preRowNoStr).val() - 0;
				preZ = $("#valueZ_"  + preRowNoStr).val() - 0;

			}

			colorTrace("preMD = "+ preMD + " preINC = " + preINC + " preAZI = " + preAZI , "RED");
			//colorTrace("preX = "+ preX + " preY = " + preY + " preZ = " + preZ , "RED");

			//==|| Calculate x, y, z by tangent method
			var dMD = md - preMD;
			var dN = dMD * (Math.sin(inc * (Math.PI / 180) ) ) * (Math.cos(azi * (Math.PI / 180)));
			var dE = dMD * (Math.sin(inc * (Math.PI / 180) ) ) * (Math.sin(azi * (Math.PI / 180)));
			var dZ = dMD * (Math.cos(inc * (Math.PI / 180)));


			//==|| Putting new dN, dE, dZ in the row
			$("#valueNS_"  + noOfWellPathLinesStr).val(dN.toFixed(2)) - 0;
			$("#valueEW_" + noOfWellPathLinesStr).val(dE.toFixed(2)) - 0;
			$("#valueVsec_" + noOfWellPathLinesStr).val(dZ.toFixed(2)) - 0;


			//==|| Calculating new x,y, z
			var newX = preX + dN;
			var newY = preY + dE;
			var newZ = preZ + dZ;

			//==|| Putting new X, Y, Z in the hidden DIVs in the row
			$("#valueX_"  + noOfWellPathLinesStr).val(newX.toFixed(2)) - 0;
			$("#valueY_"  + noOfWellPathLinesStr).val(newY.toFixed(2)) - 0;
			$("#valueZ_"  + noOfWellPathLinesStr).val(newZ.toFixed(2)) - 0;

			colorTrace("dMD = " + dMD, "Green");
			colorTrace("dN = " + dN, "Blue");
			colorTrace("dE = " + dE, "Green");
			colorTrace("dZ = " + dZ, "Blue");
			colorTrace("newX = " + newX, "Green");
			colorTrace("newY = " + newY, "Blue");
			colorTrace("newZ = " + newZ, "Green");



			//==|| Add a new line
			addWellPath(newX, newY, newZ);

			//==|| Check if the well is inside the ranges of the Planes
			checkRangesForPlanes(newX, newY, newZ);

			//==|| Render the changes
			render();


			//==|| Add the inactive row effect for the current wor
			$(this).parent().parent().addClass("inactiveRowWellPathContainer");

			//==|| The sibling edit button
			var siblingEditBtn = $(this).parent().parent().find(".divEditPathBtn");

			//==|| Display the Edit Button
			$(siblingEditBtn).css({"display": "block"});

			//==|| Hide this Add button now
			$(this).parent().css({"display": "none"});

			//==|| Disable all the inputs
			$(this).parent().parent().find(".divMD").find("input").prop('disabled', true);
			$(this).parent().parent().find(".divINC").find("input").prop('disabled', true);
			$(this).parent().parent().find(".divAZI").find("input").prop('disabled', true);


			//==|| Add an empty Row in the Table so that User can enter a new point
			addNewRowInTable(noOfWellPathLines + 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "Tangent", "Add", true);
			noOfWellPathLines++;

			/*
			//==|| Increment the No. of well path lines (also denotes how many ROWS of value are inputted by the User)
			noOfWellPathLines++;

			var newNoOfWellPathLinesStr = changeNoOfWellPathLinesIntoString(noOfWellPathLines);

			//==|| Now let's add new row of inputs and buttons
			var newWellPathInfoBoxContainerStr = 
			 	'<div id="wellPathInfoBoxContainer_' + newNoOfWellPathLinesStr + '" class="wellPathInfoBoxContainer">' +
					'<div class="wellPathInputBoxContainer divMD">' +
						'<input id="valueMD_'+ newNoOfWellPathLinesStr +'" type="text" name="valueMD" size="10"/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divINC">' +
						'<input id="valueINC_' + newNoOfWellPathLinesStr+ '" type="text" name="valueINC" size="10"/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divAZI">' +
						'<input id="valueAZI_' + newNoOfWellPathLinesStr+ '" type="text" name="valueAZI" size="10"/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divAddPathBtn">' +
						'<button id="addPathBtn_' + newNoOfWellPathLinesStr+ '" class="btn addEditPathBtn addPathBtn">' +
							'<span class""> Add</span>' +
						'</button>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divEditPathBtn" style="display: none;">' +
						'<button id="editPathBtn_' + newNoOfWellPathLinesStr +'" class="btn addEditPathBtn editPathBtn">' +
							'<span class"">Edit</span>' +
						'</button>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divDonePathBtn" style="display: none;">' + 
						'<button id="donePathBtn_' + newNoOfWellPathLinesStr + '" class="btn addEditPathBtn donePathBtn">' + 
							'<span class"">Done</span>' + 
						'</button>' + 
					'</div>' + 
			 	'</div>';


			 //==|| Append in the Add Path Container
			 $("#theAddPathContainer").append(newWellPathInfoBoxContainerStr);


			*/


			 //==|| Now register yourself for the new buttons
			 registerAddPathButton();
			 registerEditPathButton();
			 registerDonePathButton();

			 registerButtonPressReleaseEffects();



			 /*
			//==|| Check if the edit button is visible or not
			if($(this).parent().parent().find(".divEditPathBtn").is(":visible")) {
				colorTrace("Edit button is visible", "Blue");
			}
			else {

				colorTrace("Edit button is invisible", "Red");
			}
			*/

		}
		else{
			colorTrace("Point is not okay to add", "Red");
		}


	});



}


function addNewRowInTable(	currentRow, 
							valueMD, valueCL, 
							valueINC, valueAZI, valueTVD,
							valueX, valueY,	valueZ, valueNS, valueEW, valueVsec, 
							valueDogleg, valueBuild, valueTurn,
							valueSecType, activeButton, isActive
						) {

			//==|| No. of well path line increments
			//currentRow++;

			var newNoOfWellPathLinesStr = changeNoOfWellPathLinesIntoString(currentRow);

			//==|| Now let's add new row of inputs and buttons
			var newWellPathInfoBoxContainerStr = 
			 	'<div id="wellPathInfoBoxContainer_' + newNoOfWellPathLinesStr + '" class="wellPathInfoBoxContainer">' +
					'<div class="wellPathInputBoxContainer divMD">' +
						'<input id="valueMD_'+ newNoOfWellPathLinesStr +'" type="text" name="valueMD" value="' + valueMD + '" size="9"/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divCL">' +
						'<input id="valueCL_'+ newNoOfWellPathLinesStr +'" type="text" name="valueCL" value="' + valueCL + '" size="9" disabled/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divINC">' +
						'<input id="valueINC_' + newNoOfWellPathLinesStr+ '" type="text" name="valueINC" value="' + valueINC + '" size="9"/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divAZI">' +
						'<input id="valueAZI_' + newNoOfWellPathLinesStr+ '" type="text" name="valueAZI" value="' + valueAZI + '" size="9"/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divTVD">' +
						'<input id="valueTVD_'+ newNoOfWellPathLinesStr +'" type="text" name="valueTVD" value="' + valueTVD + '" size="9" disabled/>' +
					'</div>' +
					'<div id="valueX_' + newNoOfWellPathLinesStr + '" style="display: none; float: left;">' + valueX + '</div>' +
					'<div id="valueY_' + newNoOfWellPathLinesStr + '" style="display: none; float: left;">' + valueY + '</div>' +
					'<div id="valueZ_' + newNoOfWellPathLinesStr + '" style="display: none; float: left;">' + valueZ + '</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divNS">' +
						'<input id="valueNS_'+ newNoOfWellPathLinesStr +'" type="text" name="valueNS" value="' + valueNS + '" size="9"  disabled/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divEW">' +
						'<input id="valueEW_' + newNoOfWellPathLinesStr+ '" type="text" name="valueEW" value="' + valueEW + '" size="9"  disabled/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divVsec">' +
						'<input id="valueVsec_' + newNoOfWellPathLinesStr+ '" type="text" name="valueVsec" value="' + valueVsec + '" size="9"  disabled/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divDogleg">' +
						'<input id="valueDogleg_' + newNoOfWellPathLinesStr+ '" type="text" name="valueDogleg" value="' + valueDogleg + '" size="9"  disabled/>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divBuild">' +
						'<input id="valueBuild_' + newNoOfWellPathLinesStr+ '" type="text" name="valueBuild" value="' + valueBuild + '" size="9"  />' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMiddleBoxes divTurn">' +
						'<input id="valueTurn_' + newNoOfWellPathLinesStr+ '" type="text" name="valueTurn" value="' + valueTurn + '" size="9"  />' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divMethodType">' +
						'<select id="valueSecType_' + newNoOfWellPathLinesStr + '" style="width: 140px;">' +
						  	'<option value="secTypeTangent">Tangent</option>' +
						  	'<option value="secTypeM1INC">M1 - Inc</option>' +
						  	'<option value="secTypeM1AZI">M1 - Azi</option>' +
						  	'<option value="secTypeM1TVD">M1 - TVD</option>' +
						'</select>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divAddPathBtn">' +
						'<button id="addPathBtn_' + newNoOfWellPathLinesStr+ '" class="btn addEditPathBtn addPathBtn">' +
							'<span class""> Add</span>' +
						'</button>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divEditPathBtn" style="display: none;">' +
						'<button id="editPathBtn_' + newNoOfWellPathLinesStr +'" class="btn addEditPathBtn editPathBtn">' +
							'<span class"">Edit</span>' +
						'</button>' +
					'</div>' +
					'<div class="wellPathInputBoxContainer divDonePathBtn" style="display: none;">' + 
						'<button id="donePathBtn_' + newNoOfWellPathLinesStr + '" class="btn addEditPathBtn donePathBtn">' + 
							'<span class"">Done</span>' + 
						'</button>' + 
					'</div>' + 
			 	'</div>';




			//==|| Append in the Add Path Container
			$("#theAddPathContainer").append(newWellPathInfoBoxContainerStr);

			//==|| we could have the easier and shorter technique but i was too lazy to seach for it :D
			var selectedOptionIs = "";
			if(valueSecType == "Tangent") {
				selectedOptionIs = "secTypeTangent";
			}
			else if(valueSecType == "M1 - Inc") {
				selectedOptionIs = "secTypeM1INC";
			}
			else if(valueSecType == "M1 - Azi") {
				selectedOptionIs = "secTypeM1AZI";
			}
			else if(valueSecType == "M1 - TVD") {
				selectedOptionIs = "secTypeM1TVD";
			}

			//==|| Selecting the option in the Select box
			$("#valueSecType_" + newNoOfWellPathLinesStr + "").val(selectedOptionIs);

			if(!isActive){
				$("#wellPathInfoBoxContainer_" + newNoOfWellPathLinesStr).find(".divMD").find("input").prop('disabled', true);
				$("#wellPathInfoBoxContainer_" + newNoOfWellPathLinesStr).find(".divINC").find("input").prop('disabled', true);
				$("#wellPathInfoBoxContainer_" + newNoOfWellPathLinesStr).find(".divAZI").find("input").prop('disabled', true);
				$("#wellPathInfoBoxContainer_" + newNoOfWellPathLinesStr).find(".divBuild").find("input").prop('disabled', true);
				$("#wellPathInfoBoxContainer_" + newNoOfWellPathLinesStr).find(".divTurn").find("input").prop('disabled', true);

				$("#wellPathInfoBoxContainer_" + newNoOfWellPathLinesStr).find("#valueSecType_" + newNoOfWellPathLinesStr).prop('disabled', true);
			}


			 if(activeButton == "Add") {
			 	$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"block"});
			 	$("#editPathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"none"});
			 	$("#donePathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"none"});
			 }
			 else if(activeButton == "Edit") {
			 	$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"none"});
			 	$("#editPathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"block"});
			 	$("#donePathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"none"});

				//==|| Disable all the inputs
				$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().parent().find(".divMD").find("input").prop('disabled', true);
				$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().parent().find(".divINC").find("input").prop('disabled', true);
				$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().parent().find(".divAZI").find("input").prop('disabled', true);
				$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().parent().find(".divNS").find("input").prop('disabled', true);
				$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().parent().find(".divEW").find("input").prop('disabled', true);
				$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().parent().find(".divVsec").find("input").prop('disabled', true);

			 }
			 else if(activeButton == "Done") {
			 	$("#addPathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"none"});
			 	$("#editPathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"none"});
			 	$("#donePathBtn_" + newNoOfWellPathLinesStr).parent().css({"display":"block"});
			 }

}



function registerEditPathButton() {
	$(".editPathBtn").click(function() {
		colorTrace("Edit button Pressed", "Green");

		//colorTrace("Edit path Btn", "RED");

		//==|| Remove the inactive color for this row
		$(this).parent().parent().removeClass("inactiveRowWellPathContainer");


		var noOfWellPathLinesStr = changeNoOfWellPathLinesIntoString(noOfWellPathLines);
		
		//==||Hide the inputs for new point/line
		$("#wellPathInfoBoxContainer_" + noOfWellPathLinesStr).css({"display":"none"});


			//==|| The sibling Edit button
			var siblingDoneBtn = $(this).parent().parent().find(".divDonePathBtn");

			//==|| Display the Done Button
			$(siblingDoneBtn).css({"display": "block"});

			//==|| Hide this Edit button now
			$(this).parent().css({"display": "none"});

			//==|| Enable all the inputs
			$(this).parent().parent().find(".divMD").find("input").prop('disabled', false);
			$(this).parent().parent().find(".divINC").find("input").prop('disabled', false);
			$(this).parent().parent().find(".divAZI").find("input").prop('disabled', false);


	});


}


function registerDonePathButton() {

	$(".donePathBtn").click(function() {
		colorTrace("Done  button Pressed", "Green");

		var currentDivName= $(this).parent().parent().attr('id');
		var currentLineCountIsStr = currentDivName.substring(currentDivName.indexOf("_") + 1, currentDivName.length);
		var currentLineCountIs = parseInt(currentLineCountIsStr);
		
		//colorTrace("noOfWellPathLinesStr = " + noOfWellPathLinesStr, "Blue");

		colorTrace("ID =" + currentDivName, "Blue");
		colorTrace("currentLineCountIs = " + currentLineCountIs, "Green");
		colorTrace("noOfWellPathLines = " + noOfWellPathLines, "Blue")

		if(isPointOkToAdd(currentLineCountIs)) {
			colorTrace("The line is OK to add", "Green");	

			var md = $("#valueMD_"  + currentLineCountIsStr).val() - 0;
			var inc = $("#valueINC_" + currentLineCountIsStr).val() - 0;
			var azi = $("#valueAZI_" + currentLineCountIsStr).val() - 0;
			
			var x = $("#valueNS_"  + currentLineCountIsStr).val() - 0;
			var y = $("#valueEW_" + currentLineCountIsStr).val() - 0;
			var z = $("#valueVsec_" + currentLineCountIsStr).val() - 0;

			colorTrace("md = "+ md + " inc = " + inc + " azi = " + azi , "RED");

			var preMD = 0;
			var preINC = 0;
			var preAZI = 0;
			var preX = 0;
			var preY = 0;
			var preZ = 0;
			
			if(currentLineCountIs != 0){
				var preRowNo = 	currentLineCountIs - 1;
				var preRowNoStr = changeNoOfWellPathLinesIntoString(preRowNo);
				colorTrace("preRowNoStr = " + preRowNoStr, "Green");

				preMD  = $("#valueMD_"  + preRowNoStr).val() - 0;
				preINC = $("#valueINC_"  + preRowNoStr).val() - 0;
				preAZI = $("#valueAZI_"  + preRowNoStr).val() - 0;
				preX = $("#valueX_"  + preRowNoStr).val() - 0;
				preY = $("#valueY_"  + preRowNoStr).val() - 0;
				preZ = $("#valueZ_"  + preRowNoStr).val() - 0;

			}

			colorTrace("preMD = "+ preMD + " preINC = " + preINC + " preAZI = " + preAZI , "RED");
			//colorTrace("preX = "+ preX + " preY = " + preY + " preZ = " + preZ , "RED");

			//==|| Calculate x, y, z by tangent method
			var dMD = md - preMD;
			var dN = dMD * (Math.sin(inc * (Math.PI / 180) ) ) * (Math.cos(azi * (Math.PI / 180)));
			var dE = dMD * (Math.sin(inc * (Math.PI / 180) ) ) * (Math.sin(azi * (Math.PI / 180)));
			var dZ = dMD * (Math.cos(inc * (Math.PI / 180)));

			colorTrace("dMD = " + dMD, "Green");
			colorTrace("dN = " + dN, "Blue");
			colorTrace("dE = " + dE, "Green");
			colorTrace("dZ = " + dZ, "Blue");

			//==|| Calculating new x,y, z
			var newX = preX + dN;
			var newY = preY + dE;
			var newZ = preZ + dZ;

			//==|| Putting new x, y, z in the row
			$("#valueNS_"  + currentLineCountIsStr).val(dN.toFixed(2)) - 0;
			$("#valueEW_" + currentLineCountIsStr).val(dE.toFixed(2)) - 0;
			$("#valueVsec_" + currentLineCountIsStr).val(dZ.toFixed(2)) - 0;

			
			//colorTrace("New Values are x = " + x + " y = " +  y + " z = " +  z,"Blue");

			//var data = theWellPathArray;
			//$.each(data, function(index){

			var theNewPoint = v(newX, newY, newZ);

			//==|| the new point would be the new end point for the current line
			theWellPathArray[currentLineCountIs].theEndPoint = theNewPoint;

			if(currentLineCountIs == noOfWellPathLines - 1){
				//==|| our last point has changed
				thePreviousPoint = theNewPoint;
			}
			else {
				//==|| The new point would be the new start point for the next line
				theWellPathArray[currentLineCountIs + 1].theStartPoint = theNewPoint;

			}


			//==|| Add the inactive color for this row
			$(this).parent().parent().addClass("inactiveRowWellPathContainer");

			//==|| Hide this Done button now
			$(this).parent().css({"display": "none"});


			//==|| The sibling Edit button
			var siblingEditBtn = $(this).parent().parent().find(".divEditPathBtn");

			//==|| Display the Edit Button
			$(siblingEditBtn).css({"display": "block"});


			//==|| Disable all the inputs
			$(this).parent().parent().find(".divMD").find("input").prop('disabled', true);
			$(this).parent().parent().find(".divINC").find("input").prop('disabled', true);
			$(this).parent().parent().find(".divAZI").find("input").prop('disabled', true);


			var noOfWellPathLinesStr = changeNoOfWellPathLinesIntoString(noOfWellPathLines);
			//==||Show the inputs for new point/line
			$("#wellPathInfoBoxContainer_" + noOfWellPathLinesStr).css({"display":"block"});




			//==|| Redraw the well path
			redrawWellPath(false);


			//==|| Check if the well is inside the ranges of the Planes
			checkRangesForPlanes(newX, newY, newZ);




		}
		else {
			colorTrace("The line NOT OK to add", "RED");			
		}



	});

}




//######################################################################################################################################
//###################################################################################################################################### #
//#############        #####          ##############        ###          ####  ######  ###        ####        #######        ########### ##
//###################   ######  ####   ############   #############  ########  ######  ###  ##########  ############   ################# ##
//#################   ########  ####   #############        #######  ########  ######  ###       #####       ########        ########### ##
//############  #####   ######  ###   ###################   #######  #########  ####  ####  ##########  ###################  ########### ##
//#############        #####         ##############        ########  ##########      #####  ##########  #############       ############ ##
//###################################################################################################################################### #
//######################################################################################################################################


//==|| The Vector3
function v(x,y,z) { 
	return new THREE.Vector3(x,y,z); 
}


//==|| Change the Color of the scene (whole 3D module)
function changeSceneColor(color) {	
	theScene.fog = new THREE.FogExp2( color, 0.00001 );
	theRenderer.setClearColor( theScene.fog.color, 1 );
	theSceneColor = color;
	colorTrace("The Scene color is changed " + color, "Blue");

}



//==|| Add Track ball controls
function addTrackballControls() {
	theControls = new THREE.TrackballControls(theCamera, theCameraTarget,  theRenderer.domElement);

	theControls.rotateSpeed = 3.0;
	theControls.zoomSpeed = 2;
	theControls.panSpeed = 1;

	theControls.noZoom = false;
	theControls.noPan = false;

	theControls.staticMoving = true;
	theControls.dynamicDampingFactor = 0.3;  //==|| Control the speed of drag rotation

	var radius = 24; // scalar value used to determine relative zoom distances

	theControls.minDistance = radius * 0.1;  //==|| Min zoom out distance
	theControls.maxDistance = radius * 235;   //==|| Max zoom out distance


	theControls.keys = [ 65, 83, 68 ];

	theControls.addEventListener( 'change', render );

}	



//==|| When the browser window gets resized
function onWindowResize() {
	colorTrace("On Window Resize", "Blue");


	theScreenWidth = window.innerWidth;
		theScreenHeight = window.innerHeight;

		theHeight 	= theScreenHeight - 60 - 100; 

		if(leftPanelIsVisible){
			theWidth 	= theScreenWidth - 446 - 8;   		
		}
		else {
			theWidth 	= theScreenWidth - 8;
		}

		$("#thePathsDetailContainer").css({"height" : theHeight + 2 - 45});
		$("#theConfigurationPanel").css({"height": theHeight + 2 - 45});

		$("#theContainer").css({"width" :  theWidth});
		$("#theContainer").css({"height" :  theHeight});


	theCamera.aspect = theWidth / theHeight;
	theCamera.updateProjectionMatrix();

	theRenderer.setSize( theWidth, theHeight );

	theControls.handleResize();

	render();

}



function animate() {

	requestAnimationFrame( animate );
	theControls.update();

}



function render() {

	theRenderer.render( theScene, theCamera );
	//stats.update();

}


function createTextCanvas(text, color, font, size) {
    size = size || 24;
    var canvas = document.createElement('canvas');
    
    var ctx = canvas.getContext('2d');
    
    var fontStr = (size + 'px ') + (font || 'Arial');
    ctx.font = fontStr;
    
    var w = ctx.measureText(text).width;
    var h = Math.ceil(size);
    
    canvas.width = w;
    canvas.height = h;
    
    ctx.font = fontStr;
    ctx.fillStyle = color || 'black';
    ctx.fillText(text, 0, Math.ceil(size*0.8));
    
    return canvas;
}

function createText2D(text, color, font, size, theLabelOpacity, segW, segH) {
    var canvas = createTextCanvas(text, color, font, size);
    var plane = new THREE.PlaneGeometry(canvas.width, canvas.height, segW, segH);
    
    var tex = new THREE.Texture(canvas);
    tex.needsUpdate = true;

    var planeMat = new THREE.MeshBasicMaterial({
        map: tex, 
        color: 0xffffff, 
        transparent: true, 
        side: THREE.DoubleSide,
        opacity: theLabelOpacity
    });

    var mesh = new THREE.Mesh(plane, planeMat);
    mesh.scale.set(0.25, 0.25, 0.25);
    mesh.doubleSided = true;
    return mesh;
}



//==|| Check if the current point fall under the current Axes plane ranges
//==|| if not adjust the ranges again and redraw the Axes planes again
function checkRangesForPlanes(x, y, z) {

	var redraw = false;

	if(x > maxX) { 
		maxX = parseInt(x / theUnit) * theUnit + theUnit;
		redraw = true;
	}

	if(x < minX) {
		minX = parseInt(x / theUnit) * theUnit - theUnit;
		redraw = true;
	}

	if(y > maxY) {
		maxY =parseInt(y / theUnit) * theUnit + theUnit;
		redraw = true;
	}

	if(y < minY) {
		minY = parseInt(y / theUnit) * theUnit - theUnit;
		redraw = true;
	}

	if(z > theZ) {
		theZ = parseInt(z / theUnit) * theUnit + theUnit;
		redraw = true;
	}


	if(redraw) {
		redrawAxesPlanes();
	}


}

//==|| Redraw the Axes plane
function redrawAxesPlanes() {

	//==|| Empty YZ Plane first
	emptyYZ_Plane();
  	//==|| Redrawing the YZ Plane
	drawYZ_Plane();



	//==|| Empty XZ Plane first
	emptyXZ_Plane();
	//==|| Redrawing the XZ Plane
	drawXZ_Plane();



	//==|| Empty XY Plane first
	emptyXY_Plane();
	//==|| Redrawing the XY Plane
	drawXY_Plane();	



	//==|| remove the previous North Arrow 
	theMainObject.remove(theArrowNorth);

	//==|| Now redraw the North Arrow
	drawArrowNorth();



}

//==|| Remove everything from YZ Plane
function emptyYZ_Plane() {
  	//==|| Removing the outlines and grids of YZ Plane
  	theYZ_Plane.remove(theYZ_PlaneOutline);
  	theYZ_Plane.remove(theYZ_PlaneGrids);

  	//==|| Removing the grid line and the axis line from the plane grids
  	theYZ_PlaneGrids.remove(theYZ_PlaneGridLines);		      	
		theYZ_PlaneGrids.remove(theYZ_PlaneAxisLine);

}

//==|| Remove everything from XZ Plane
function emptyXZ_Plane() {
  	//==|| Removing the outline and the grids of XZ Plane
  	theXZ_Plane.remove(theXZ_PlaneOutline);
  	theXZ_Plane.remove(theXZ_PlaneGrids);

	//==|| Removing the grid line and the axis line from the plane grids
  	theXZ_PlaneGrids.remove(theXZ_PlaneGridLines);		      	
		theXZ_PlaneGrids.remove(theXZ_PlaneAxisLine);

  	//==|| Removing the labels
	theXZ_Plane.remove(theXZ_PlaneLabels);

	//==|| Remove all the children of theXZ_PlaneLabels
	for ( var i = theXZ_PlaneLabels.children.length - 1; i >= 0 ; i-- ) {
	  	theXZ_PlaneLabels.remove(theXZ_PlaneLabels.children[ i ]);
	}

}

//==|| Remove everything from XY Plane
function emptyXY_Plane() {
  	//==|| Removing the Outline and the grids of XY Plane
  	theXY_Plane.remove(theXY_PlaneOutline);
  	theXY_Plane.remove(theXY_PlaneGrids);

  	//==|| Removing the grid line and the axis line from the plane grids
  	theXY_PlaneGrids.remove(theXY_PlaneGridLines);		      	
		theXY_PlaneGrids.remove(theXY_PlaneAxisLine);


	//==|| Removing the labels from XY Plane
  	theXY_Plane.remove(theXY_PlaneLabels);

  	
  	//==|| Remove all the children of theXY_PlaneLabels
	for ( var i = theXY_PlaneLabels.children.length - 1; i >= 0 ; i-- ) {
	  	theXY_PlaneLabels.remove(theXY_PlaneLabels.children[ i ]);
	}

}




//==|| Redraw the well path
function redrawWellPath(changedFeatures) {

	//==|| First of all lets remove the current well path
	theMainObject.remove(theWellPath);

	//==|| Empty the well path object as well
	//theWellPath.length = 0;

	//theWellPathList
	//==|| Empty the well path object3D
	$.each(theWellPathList, function(index){
		//colorTrace("object is "+ theObject, "Green");
		theWellPath.remove(theWellPathList[index]);
	});


	//colorTrace("theWellPath = " +  theWellPath.length, "Green");

	//==|| empty the well path list
	theWellPathList.length = 0;

	//theWellPath.forEach(function(object) {
	//	theWellPath.remove(object);
	//});

	//theWellPath.remove(theLine);

	//theWellPath = new THREE.Object3D();
	//colorTrace("Emptied the Well Path Object. Now ready for inserting new ones", "Green");


	var data = theWellPathArray;
	
	$.each(data, function(index){

		var theStartPoint 	= data[index].theStartPoint;
		var theEndPoint 	= data[index].theEndPoint;
		var theColor 		= data[index].theColor;
		var theLineWidth 	= data[index].theLineWidth;
		var theLineOpacity  = data[index].theLineOpacity;

		//==|| The Well Line must have the new Colors SO
		if(changedFeatures) {
			theColor = theWellLineColor;
			theLineOpacity = theWellLineOpacity;
		}

		var theNewLineMaterial = new THREE.LineBasicMaterial( {
				transparent: true,
				opacity: theLineOpacity,
      			color: theColor, 
      			lineWidth: 1
      		}
      	);


		//==|| The New Line Geometry
      	var theNewLineGeo = new THREE.Geometry();
      	theNewLineGeo.vertices.push(
      		theStartPoint, theEndPoint
      	);


      	//==|| The New Line
      	var theNewLine = new THREE.Line(theNewLineGeo, theNewLineMaterial);
      	theNewLine.type = THREE.Lines;

      	//==|| Add the new line to the Well Path object in the scene
		theWellPath.add(theNewLine);

		//==|| Pushing in the New lines it the well path
		theWellPathList.push(theNewLine);

	});


		//==||Let's add the well path back to the main object
	theMainObject.add(theWellPath);


	//colorTrace("theWellPathList length = " + theWellPathList.length, "Blue");

	//==|| Let's render the changes
	render();

}



//==|| Display all three Axes planes and the North Arrow
function addAxesPlanes() {

	//==|| Draw the Three Planes
	drawYZ_Plane();
	drawXZ_Plane();
	drawXY_Plane();

	//==|| Draw the arrow pointing to the North
	drawArrowNorth();


	//==|| Draw the Lines to the Origin
	//drawLinesToOrigin();


	//==|| Add the well path in the main object
	theMainObject.add(theWellPath);

	//==|| Add the main object to the Scene
	theScene.add(theMainObject);

}




function drawYZ_Plane() {

  	//==|| The X Plane

	//==|| The Outline Material
  	theYZ_PlaneOutlineMaterial = new THREE.LineBasicMaterial( {
  			color: theYZ_PlaneOutlineMaterialColor, 
  			lineWidth: theYZ_PlaneOutlineMaterialLineWidth,
  			transparent: true,
  			opacity: theYZ_PlaneOutlineMaterialLineOpacity
  		}
  	);

  	//==|| The Gridline Material
	theYZ_PlaneGridLinesMaterial = new THREE.LineBasicMaterial( {
  			color: theYZ_PlaneGridLinesMaterialColor, 
  			lineWidth: theYZ_PlaneGridLinesMaterialLineWidth,
  			transparent: true,
  			opacity: theYZ_PlaneGridLinesMaterialLineOpacity
  		}
  	);

	//==|| the AxisLine Material
	theYZ_PlaneAxisLineMaterial = new THREE.LineBasicMaterial( {
  			color: theYZ_PlaneAxisLineMaterialColor, 
  			lineWidth: theYZ_PlaneAxisLineMaterialLineWidth,
  			transparent: true,
  			opacity: theYZ_PlaneAxisLineMaterialLineOpacity
  		}
  	);


	//==|| the Outline Geometry
  	theYZ_PlaneOutlineGeo = new THREE.Geometry();
  	theYZ_PlaneOutlineGeo.vertices.push(

  		v(maxX, minY, 0), v(maxX, maxY, 0),
  		v(maxX, maxY, 0), v(maxX, maxY, theZ),
  		v(maxX, maxY, theZ), v(maxX, minY, theZ),
  		v(maxX, minY, theZ), v(maxX, minY, 0)


  	);


  	//==|| the Outline
  	theYZ_PlaneOutline = new THREE.Line(theYZ_PlaneOutlineGeo, theYZ_PlaneOutlineMaterial);
  	theYZ_PlaneOutline.type = THREE.Lines;



  	//==|| Checking how many grids are there in width, lenght and height
  	var noOfGridsInLength = ((-1 * minY) + maxY) / theUnit;
  	var noOfGridsInHeight = (theZ / theUnit)

  	//==|| The Gridlines Geometry
	theYZ_PlaneGridLinesGeo = new THREE.Geometry();

  	//==|| If more than 2 grids we need to draw additional lines
  	//if(noOfGridsInLength > 1){
  	//==|| Across the length		      		
      	for(var value = (minY + theUnit); value <= (maxY - theUnit); value += theUnit) {
      		if(value != 0) {
      			theYZ_PlaneGridLinesGeo.vertices.push(
      				v(maxX, value, 0), v(maxX, value, theZ)
      			);
      		}	
      	}
   //	}

	//==|| If more than 2 grids we need to draw additional lines
  	//if(noOfGridsInHeight > 1){	
  	//==|| Across the height	      		
      	for(var value = (theUnit); value <= (theZ - theUnit); value += theUnit) {
  			theYZ_PlaneGridLinesGeo.vertices.push(
  				v(maxX, minY, value), v(maxX, maxY, value)
  			);			      		
      	}
   	//	}


  	//==|| the Gridlines
  	theYZ_PlaneGridLines = new THREE.Line(theYZ_PlaneGridLinesGeo, theYZ_PlaneGridLinesMaterial);
  	theYZ_PlaneGridLines.type = THREE.Lines;

   	//==|| The AxisLine Geometry
	theYZ_PlaneAxisLineGeo = new THREE.Geometry();
  	theYZ_PlaneAxisLineGeo.vertices.push(
  		v(maxX, 0, 0), v(maxX, 0, theZ)
  	);

  	//==|| The AxisLine
  	theYZ_PlaneAxisLine = new THREE.Line(theYZ_PlaneAxisLineGeo, theYZ_PlaneAxisLineMaterial);
  	theYZ_PlaneAxisLine.type = THREE.Lines;


  	//==|| Adding axis line to the Plane Grids object  	
  	theYZ_PlaneGrids.add(theYZ_PlaneGridLines);		      	
  	theYZ_PlaneGrids.add(theYZ_PlaneAxisLine);

  	//==|| Adding different lines in the X-Plane  
  	theYZ_Plane.add(theYZ_PlaneOutline);
  	theYZ_Plane.add(theYZ_PlaneGrids);

  	//==|| Adding the X-Plane to the MainObject
  	theMainObject.add(theYZ_Plane);

}



function drawXZ_Plane() {

  	//==|| The Y Plane

 

 	//==|| The Outline Material
  	theXZ_PlaneOutlineMaterial = new THREE.LineBasicMaterial( {
  			color: theXZ_PlaneOutlineMaterialColor, 
  			lineWidth: theXZ_PlaneOutlineMaterialLineWidth,
  			transparent: true,
  			opacity: theXZ_PlaneOutlineMaterialLineOpacity
  		}
  	);

  	//==|| The Gridline Material
	theXZ_PlaneGridLinesMaterial = new THREE.LineBasicMaterial( {
  			color: theXZ_PlaneGridLinesMaterialColor, 
  			lineWidth: theXZ_PlaneGridLinesMaterialLineWidth,
  			transparent: true,
  			opacity: theXZ_PlaneGridLinesMaterialLineOpacity
  		}
  	);

	//==|| the AxisLine Material
	theXZ_PlaneAxisLineMaterial = new THREE.LineBasicMaterial( {
  			color: theXZ_PlaneAxisLineMaterialColor, 
  			lineWidth: theXZ_PlaneAxisLineMaterialLineWidth,
  			transparent: true,
  			opacity: theXZ_PlaneAxisLineMaterialLineOpacity
  		}
  	);


	//==|| The Outline Geometry
  	theXZ_PlaneOutlineGeo = new THREE.Geometry();
  	theXZ_PlaneOutlineGeo.vertices.push(

  		v(maxX, minY, 0), v(maxX, minY, theZ),
  		v(maxX, minY, theZ), v(minX, minY, theZ),
  		v(minX, minY, theZ), v(minX, minY, 0),
  		v(minX, minY, 0), v(maxX, minY, 0)


  	);

  	//==|| The Outline
  	theXZ_PlaneOutline = new THREE.Line(theXZ_PlaneOutlineGeo, theXZ_PlaneOutlineMaterial);
  	theXZ_PlaneOutline.type = THREE.Lines;

  	


  	//==|| Checking how many grids are there in width, lenght and height
  	var noOfGridsInBreadth = ((-1 * minX) + maxX) / theUnit;
  	var noOfGridsInHeight = (theZ / theUnit)

  	//==|| The Gridlines Geometry
	theXZ_PlaneGridLinesGeo = new THREE.Geometry();

  	//==|| If more than 2 grids we need to draw additional lines
  	//if(noOfGridsInBreadth > 1){		      		
      	for(var value = (minX + theUnit); value <= (maxX - theUnit); value += theUnit) {
      		if(value != 0) {
      			theXZ_PlaneGridLinesGeo.vertices.push(
      				v(value, minY, 0), v(value, minY, theZ)
      			);
      		}	
      	}
   //	}

	//==|| If more than 2 grids we need to draw additional lines
  //	if(noOfGridsInHeight > 1){		      		
      	//for(var value = (theUnit); value <= (theZ - theUnit); value += theUnit) {
      	for(var value = 0; value <= theZ; value += theUnit) {
      		if(value > 0 && value < theZ){
      			theXZ_PlaneGridLinesGeo.vertices.push(
      				v(minX, minY, value), v(maxX, minY, value)
      			);
      		}

		   	var gridValue = createText2D(value + '', theLabelColor, theLabelFont, theLabelFontSize, theLabelOpacity);
	     	gridValue.position.x = minX - labelMargin;
	     	gridValue.position.y = minY;
	     	gridValue.position.z = value;
	      //	theMainObject.add(gridValue);


	      	//==|| Rotating the text/label/value to level it with the Y-Plane
	      	//	gridValue.rotation.set(Math.PI, Math.PI/2, 0);

			gridValue.rotation.set(Math.PI/2, Math.PI, Math.PI);


	      	theXZ_PlaneLabels.add(gridValue);
	      	
	      	//var axis = new THREE.Vector3(0.5,0.5,0);

	      	//theXZ_PlaneLabels.rotation.set(0, Math.PI, 0);

      	}
   //	}




  	//==|| the Gridlines
  	theXZ_PlaneGridLines = new THREE.Line(theXZ_PlaneGridLinesGeo, theXZ_PlaneGridLinesMaterial);
  	theXZ_PlaneGridLines.type = THREE.Lines;

   	//==|| The AxisLine Geometry
	theXZ_PlaneAxisLineGeo = new THREE.Geometry();
  	theXZ_PlaneAxisLineGeo.vertices.push(
  		v(0, minY, 0), v(0, minY, theZ)
  	);

  	//==|| The AxisLine
  	theXZ_PlaneAxisLine = new THREE.Line(theXZ_PlaneAxisLineGeo, theXZ_PlaneAxisLineMaterial);
  	theXZ_PlaneAxisLine.type = THREE.Lines;




  	//==|| Adding axis line to the Plane Grids object  	
  	theXZ_PlaneGrids.add(theXZ_PlaneGridLines);		      	
  	theXZ_PlaneGrids.add(theXZ_PlaneAxisLine);

  	//==|| Adding different lines in the Y-Plane
  	theXZ_Plane.add(theXZ_PlaneOutline);
  	theXZ_Plane.add(theXZ_PlaneGrids);


  	//==|| Adding the labels/values in the Y-Plane
	theXZ_Plane.add(theXZ_PlaneLabels);

	//==|| Adding the X-Plane to the MainObject
  	theMainObject.add(theXZ_Plane);

}



function drawXY_Plane() {

 	//==|| The Outline Material
  	theXY_PlaneOutlineMaterial = new THREE.LineBasicMaterial( {
  			color: theXY_PlaneOutlineMaterialColor, 
  			lineWidth: theXY_PlaneOutlineMaterialLineWidth,
  			transparent: true,
  			opacity: theXY_PlaneOutlineMaterialLineOpacity
  		}
  	);

  	//==|| The Gridline Material
	theXY_PlaneGridLinesMaterial = new THREE.LineBasicMaterial( {
  			color: theXY_PlaneGridLinesMaterialColor, 
  			lineWidth: theXY_PlaneGridLinesMaterialLineWidth,
  			transparent: true,
  			opacity: theXY_PlaneGridLinesMaterialLineOpacity
  		}
  	);

	//==|| the AxisLine Material
	theXY_PlaneAxisLineMaterial = new THREE.LineBasicMaterial( {
  			color: theXY_PlaneAxisLineMaterialColor, 
  			lineWidth: theXY_PlaneAxisLineMaterialLineWidth,
  			transparent: true,
  			opacity: theXY_PlaneAxisLineMaterialLineOpacity
  		}
  	);


 	//==|| The Outline Geometry
  	theXY_PlaneOutlineGeo = new THREE.Geometry();
  	theXY_PlaneOutlineGeo.vertices.push(

  		v(maxX, minY, theZ), v(maxX, maxY, theZ),
  		v(maxX, maxY, theZ), v(minX, maxY, theZ),
  		v(minX, maxY, theZ), v(minX, minY, theZ),
  		v(minX, minY, theZ), v(maxX, minY, theZ)


  	);

  	//==|| The Outline
  	theXY_PlaneOutline = new THREE.Line(theXY_PlaneOutlineGeo, theXY_PlaneOutlineMaterial);
  	theXY_PlaneOutline.type = THREE.Lines;






  	//==|| Checking how many grids are there in width, lenght and height
  	var noOfGridsInBreadth = ((-1 * minX) + maxX) / theUnit;
  	var noOfGridsInLength = ((-1 * minY) + maxY) / theUnit;

  	//==|| The Gridlines Geometry
	theXY_PlaneGridLinesGeo = new THREE.Geometry();

  	//==|| If more than 2 grids we need to draw additional lines
  	//if(noOfGridsInBreadth > 1){		      		
      	//for(var value = (minX + theUnit); value <= (maxX - theUnit); value += theUnit) {
      	for(var value = (minX ); value <= (maxX); value += theUnit) {
      		if(value > minX && value < maxX) {	      	
	      		if(value != 0) {
	      			theXY_PlaneGridLinesGeo.vertices.push(
	      				v(value, minY, theZ), v(value, maxY, theZ)
	      			);
	      		}
	      	}

	      	var gridValue = createText2D(value + '', theLabelColor, theLabelFont, theLabelFontSize, theLabelOpacity);
	     	gridValue.position.x = value;
	     	gridValue.position.y = maxY + labelMargin;
	     	gridValue.position.z = theZ;

	      	//==|| Rotating the text/label/value to level it with the Y-Plane
	      	gridValue.rotation.set(0, Math.PI, Math.PI/2);

	      	theXY_PlaneLabels.add(gridValue);

      	}
   //	}

	//==|| If more than 2 grids we need to draw additional lines
  	//if(noOfGridsInLength > 1){		      		
      	//for(var value = (minY + theUnit); value <= (maxY - theUnit); value += theUnit) {
      	for(var value = (minY + theUnit); value <= (maxY); value += theUnit) {	
      		if(value > (minY) && value < maxY) {
	      		if(value != 0) {
	      			theXY_PlaneGridLinesGeo.vertices.push(
	      				v(minX, value, theZ), v(maxX, value, theZ)
	      			);
	      		}
	      	}

      		var gridValue = createText2D(value + '', theLabelColor, theLabelFont, theLabelFontSize, theLabelOpacity);
	     	gridValue.position.x = minX  - labelMargin;
	     	gridValue.position.y = value;
	     	gridValue.position.z = theZ;

	      	//==|| Rotating the text/label/value to level it with the Y-Plane
	      	gridValue.rotation.set(Math.PI, 0, 0);

	      	theXZ_PlaneLabels.add(gridValue);


      	}
   //	}


  	//==|| the Gridlines
  	theXY_PlaneGridLines = new THREE.Line(theXY_PlaneGridLinesGeo, theXY_PlaneGridLinesMaterial);
  	theXY_PlaneGridLines.type = THREE.Lines;

   	//==|| The AxisLine Geometry
	theXY_PlaneAxisLineGeo = new THREE.Geometry();
  	theXY_PlaneAxisLineGeo.vertices.push(
  		v(0, minY, theZ), v(0, maxY, theZ),
  		v(minX, 0, theZ), v(maxX, 0, theZ)
  	);

  	//==|| The AxisLine
  	theXY_PlaneAxisLine = new THREE.Line(theXY_PlaneAxisLineGeo, theXY_PlaneAxisLineMaterial);
  	theXY_PlaneAxisLine.type = THREE.Lines;





  	//==|| Adding axis line to the Plane Grids object  	
  	theXY_PlaneGrids.add(theXY_PlaneGridLines);		      	
  	theXY_PlaneGrids.add(theXY_PlaneAxisLine);

  	//==|| Adding different lines in the Z-Plane
  	theXY_Plane.add(theXY_PlaneOutline);
  	theXY_Plane.add(theXY_PlaneGrids);


	//==|| Adding the labels/values in the Z-Plane
  	theXY_Plane.add(theXY_PlaneLabels);


  	//==|| Adding the X-Plane to the MainObject
  	theMainObject.add(theXY_Plane);

}



//==|| Draw an Arrow right of the XY Plane to denote the North direction
function drawArrowNorth() {

	

	//==|| The Outline Material
  	theArrowNorthmaterial = new THREE.LineBasicMaterial( {
  			color: theArrowNorthColor, 
  			lineWidth: 1,
  			transparent: true,
  			opacity: theArrowNorthOpacity
  		}
  	);



  	var midX = (maxX + minX) / 2; 

  	var halfLength = (maxX - minX) / 2 - theUnit;

  	if(halfLength > 3 * theUnit) { 
  		halfLength = 3 * theUnit;
  	}

  	colorTrace("midX = " +  midX + "  halfLength = " + halfLength + " minX = " + minX + " maxX = " + maxX + "Green");
  	//halfLength = theUnit

	//==|| The Outline Geometry
  	var theArrowNorthgeo = new THREE.Geometry();
  	theArrowNorthgeo.vertices.push(

  		v(midX,  maxY + theArrowNorth_Margin, theZ), 		v(midX - halfLength,  maxY + theArrowNorth_Margin, theZ),
  		v(midX - halfLength,  maxY + theArrowNorth_Margin, theZ), 	v(midX - halfLength,  maxY + theArrowNorth_Margin - theArrowNorth_Width, theZ),
  		v(midX,  maxY + theArrowNorth_Margin, theZ), 		v(midX + halfLength,  maxY + theArrowNorth_Margin, theZ),
  		v(midX + halfLength,  maxY + theArrowNorth_Margin, theZ), 	v(midX + theArrowNorth_Width,  maxY + theArrowNorth_Margin - theArrowNorth_Width, theZ),
  		v(midX + halfLength,  maxY + theArrowNorth_Margin, theZ), 	v(midX + theArrowNorth_Width,  maxY + theArrowNorth_Margin + theArrowNorth_Width, theZ)


  	);


	//==|| The Outline
  	theArrowNorth = new THREE.Line(theArrowNorthgeo, theArrowNorthmaterial);
  	theArrowNorth.type = THREE.Lines;

	theMainObject.add(theArrowNorth);

}


//==|| It's still not working as I have not been able to figure out
//==|| why dashed lines are getting drawn.
function drawLinesToOrigin() {

	//==|| The Lines to Origin Material
  	linesToOriginMaterial = new THREE.LineDashedMaterial( {
  			color: 0x000000, 
  			dashSize: 3, 
  			gapSize:2,
  			linewidth: 2 
  		}
  	);


	//==|| The Lines to Origin Geometry
  	var linesToOriginGeo = new THREE.Geometry();
			linesToOriginGeo.computeLineDistances();
  	linesToOriginGeo.vertices.push(
  		v(0, minY, 0), v(0, 0, 0),
  		v(maxX, 0, 0), v(0, 0, 0)
  	);


	//==|| The Outline
  	linesToOrigin = new THREE.Line(linesToOriginGeo, linesToOriginMaterial);		
  	linesToOrigin.type = THREE.LinePieces;

	theMainObject.add(linesToOrigin);


}


//==|| Creates the sign at the center of the screen
//==|| which is the center of rotation for object in our 3D Module
function createScreenCenter(x, y, z, centerSignLength, screenCenterSignColor, screenCenterSignOpacity ) {

	//==|| The Screen Center
  	var theScreenCenterMaterial = new THREE.LineBasicMaterial( {
  			color: screenCenterSignColor, 
  			lineWidth: 1,
  			transparent: true,
  			opacity: screenCenterSignOpacity
  		}
  	);

  	//var centerSignLength = 10;
	//==|| the Outline Geometry
  	var theScreenCenterGeo = new THREE.Geometry();
  	theScreenCenterGeo.vertices.push(
  		v(x - centerSignLength, y, z), v(x + centerSignLength, y, z),
  		v(x, y - centerSignLength, z), v(x, y + centerSignLength, z),
  		v(x, y, z - centerSignLength), v(x, y, z + centerSignLength)

  	);


  	//==|| the Outline
  	theScreenCenter = new THREE.Line(theScreenCenterGeo, theScreenCenterMaterial);
  	theScreenCenter.type = THREE.Lines;

  	theMainObject.add(theScreenCenter);
  	//theScreenCenter.position.set(theCameraTarget.x, theCameraTarget.y, theCameraTarget.z)
  	//theScreenCenter.position.set(0, 0, 100)


}

function updateScreenCenter(x, y, z) {
	colorTrace("Update Screen Center called ", "Green");

	theScreenCenter.position.x = x;
	theScreenCenter.position.y = y;
	theScreenCenter.position.z = z;

}






</script>



{% endblock %}
